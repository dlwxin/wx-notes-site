(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{562:function(s,a,t){"use strict";t.r(a);var n=t(18),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),t("p",[t("code",[s._v("sed")]),s._v(" 是一种几乎可以应用在所有 UNIX 平台（包括 Linux）上的轻量级流编辑器。"),t("code",[s._v("sed")]),s._v(" 有许多很好的特性。首先，它相当小巧，通常要比你所喜爱的脚本语言小多倍。其次，因为 "),t("code",[s._v("sed")]),s._v(" 是一种流编辑器，所以，它可以对从如管道这样的标准输入中接收的数据进行编辑。因此，无须将要编辑的数据存储在磁盘上的文件中。因为可以轻易将数据管道输出到 "),t("code",[s._v("sed")]),s._v("，所以，将 "),t("code",[s._v("sed")]),s._v(" 用作强大的 Shell 脚本中长而复杂的管道很容易。")]),s._v(" "),t("p",[t("code",[s._v("sed")]),s._v(" 主要是用来将数据进行选取、替换、删除、新増的命令。")]),s._v(" "),t("h3",{attrs:{id:"命令的语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令的语法"}},[s._v("#")]),s._v(" 命令的语法")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed [选项] '[动作]' 文件名")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("ul",[t("li",[s._v("-n：一般 sed 命令会把所有数据都输出到屏幕上。如果加入此选项，则只会把经过 sed 命令处理的行输出到屏幕上；")]),s._v(" "),t("li",[s._v("-e: 允许对输入数据应用多条 sed 命令编辑；")]),s._v(" "),t("li",[s._v("-f 脚本文件名：从 sed 脚本中读入 sed 操作。和 awk 命令的 -f 选项非常类似；")]),s._v(" "),t("li",[s._v("-r：在 sed 中支持扩展正则表达式；")]),s._v(" "),t("li",[s._v("-i：用 sed 的修改结果直接修改读取数据的文件，而不是由屏幕输出动作；")]),s._v(" "),t("li",[s._v("a \\：追加，在当前行后添加一行或多行。当添加多行时，除最后一行外，每行末尾需要用“\\”代表数据未完结；")]),s._v(" "),t("li",[s._v("c \\：行替换，用 c 后面的字符串替换原数据行。当替换多行时，除最后一行外，每行末尾需用“\\”代表数据未完结；")]),s._v(" "),t("li",[s._v("i \\：插入，在当前行前插入一行或多行。当插入多行时，除最后一行外，每行末尾需要用“\\”代表数据未完结；")]),s._v(" "),t("li",[s._v("d：删除，删除指定的行；")]),s._v(" "),t("li",[s._v("P：打印，输出指定的行；")]),s._v(" "),t("li",[s._v("s：字符串替换，用一个字符串替换另一个字符串。格式为“行范围 s/旧字串/新字串/g”（和 Vim 中的替换格式类似）；")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("sed")]),s._v(" 所做的修改并不会直接改变文件的内容（如果是用管道符接收的命令的输出，则连文件都没有），而是把修改结果只显示到屏幕上，除非使用 "),t("code",[s._v("-i")]),s._v(" 选项才会直接修改文件。")])]),s._v(" "),t("h2",{attrs:{id:"行数据操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行数据操作"}},[s._v("#")]),s._v(" 行数据操作")]),s._v(" "),t("h3",{attrs:{id:"输出文件中的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出文件中的数据"}},[s._v("#")]),s._v(" 输出文件中的数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wx@DESKTOP-HREI907 MINGW64 /c/wx/linuxLearn/temp\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\nwx@DESKTOP-HREI907 MINGW64 /c/wx/linuxLearn/temp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出123中的第2行")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2p'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "p"动作确实输出了第二行数据，但是 sed 命令还会把所有数据都输出一次，这时就会看到这个比较奇怪的')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 结果。想指定输出某行数据，就需要"-n"选项的帮助。')]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2p'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h3",{attrs:{id:"删除文件中的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除文件中的数据"}},[s._v("#")]),s._v(" 删除文件中的数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除从第二行到第四行的数据")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,4d'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\nwx@DESKTOP-HREI907 MINGW64 /c/wx/linuxLearn/temp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件本身并没有被修改")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v('看到这条命令首先需要注意，所有的动作必须使用"单引号"包含；其次，在动作中可以使用数字代表行号，逗号代表连续的行范围。还可以使用'),t("code",[s._v("$")]),s._v("代表最后一行，如果动作是"),t("code",[s._v("2,$d")]),s._v("，则代表从第二行删除到最后一行。")])]),s._v(" "),t("h3",{attrs:{id:"追加和插入行数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#追加和插入行数据"}},[s._v("#")]),s._v(" 追加和插入行数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1a Hello World'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\nHello World\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"在指定行前插入数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在指定行前插入数据"}},[s._v("#")]),s._v(" 在指定行前插入数据")]),s._v(" "),t("p",[s._v('在指定行前插入数据，则需要使用"i"动作')]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2i Hello \\\n> world '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\nHello\nworld\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"行数据替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行数据替换"}},[s._v("#")]),s._v(" 行数据替换")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2c No such data'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\nNo such data\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("code",[s._v("sed")]),s._v(" 可以接收和处理管道符传输的数据\n"),t("code",[s._v("sed")]),s._v(" 命令在默认情况是不会修改文件内容的。需要让 "),t("code",[s._v("sed")]),s._v(' 命令直接处理文件的内容，则可以使用"-i"选项。')]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@localhost ~]# sed -i'2c No such person' student.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"字符串替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串替换"}},[s._v("#")]),s._v(" 字符串替换")]),s._v(" "),t("p",[t("code",[s._v("c")]),s._v("动作是进行整行替换的，如果仅仅想替换行中的部分数据，就要使用"),t("code",[s._v("s")]),s._v("动作了。\n"),t("code",[s._v("s")]),s._v("动作的格式如下：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/旧字符串/新字符串/g' 文件名")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("str")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$str")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/world/there/g'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hello there")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"example-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-1"}},[s._v("#")]),s._v(" Example 1")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/水浒传/book/g'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     book\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104")]),s._v("     三国演义\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"同时执行多个-sed-动作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#同时执行多个-sed-动作"}},[s._v("#")]),s._v(" 同时执行多个 sed 动作")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -e 's/Liming//g; s/Gao//g' student.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 同时把"Liming"和"Gao"替换为空')]),s._v("\nID Name PHP Linux MySQL Average\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87.66")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" Sc "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85.66")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91.66")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("-e")]),s._v("选项可以同时执行多个 "),t("code",[s._v("sed")]),s._v(" 动作，当然，如果只执行一个动作，则也可以使用"),t("code",[s._v("-e")]),s._v("选项，但是这时没有什么意义。还要注意，多个动作之间要用"),t("code",[s._v(";")]),s._v("或回车分隔，")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -e 's/Liming//g")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" s/Gao//g' student.txt\nID Name PHP Linux MySQL Average\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87.66")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" Sc "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85.66")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91.66")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"注释掉某行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注释掉某行"}},[s._v("#")]),s._v(" 注释掉某行")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'4s/^/#/g'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("     西游记\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("     红楼梦\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("     水浒传\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#104     三国演义")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(" -j ACCEPT\n-A INPUT -m state --state NEW -m tcp -p tcp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2001")]),s._v(" -j ACCEPT\n-A INPUT -m state --state NEW -m tcp -p tcp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2002")]),s._v(" -j ACCEPT\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/2001/s/^/#/g'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(to comment out)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/2001/s/^#//g'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(to uncomment)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/TestEnv/s/^/#/'")]),s._v(" application.properties "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(to comment out)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/ProdEnv/s/^#//'")]),s._v(" application.properties "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#(to uncomment)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"去除空格"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#去除空格"}},[s._v("#")]),s._v(" 去除空格")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'    abc de  '")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印字符串 foo 的长度")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("foo}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("1. 去除行首空格")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("foo1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${foo}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^[ ]*//g'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("foo1}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("其中，"),t("code",[s._v("sed 's/^[ ]*//g'")]),s._v("表示使用空字符匹配行首为空格的字符串")]),s._v(" "),t("ul",[t("li",[s._v("字符 "),t("code",[s._v("s")]),s._v(" 表示替换；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("/")]),s._v(" 表示作为分隔符；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("^")]),s._v(" 表示开头；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("$")]),s._v(" 表示结尾；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("[ ]")]),s._v(" 表示匹配指定字符范围内的任意单个字符，[ ]包含一个空格；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("*")]),s._v(" 作为通配符，匹配 0 个或任意多个；")]),s._v(" "),t("li",[s._v("字符 "),t("code",[s._v("g")]),s._v(" 表示全部匹配；")])]),s._v(" "),t("p",[t("strong",[s._v("2. 去除行尾空格")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("foo2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${foo}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/[ ]*$//g'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("foo2}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("3. 去除所有空格")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("foo3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${foo}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/[ ]*//g'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("foo3}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"去除空行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#去除空行"}},[s._v("#")]),s._v(" 去除空行")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^\\s*$/d'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^$/d'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^[[:space:]]*$/d'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{if(NF>0) {print $0}}'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'!/^$/'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '!/^$/' test.txt >new_test.txt")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"在文件行首行尾添加添加字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在文件行首行尾添加添加字符"}},[s._v("#")]),s._v(" 在文件行首行尾添加添加字符")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" test.txt\nall\nannotation\nany\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("1. 在行首添加字符 "),t("code",[s._v("[")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^/[&/g'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("annotation\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("any\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("2. 在行尾添加字符 "),t("code",[s._v("]")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/$/&]/g'")]),s._v(" test.txt\nall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nannotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nany"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"复制每行内容到每行行尾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制每行内容到每行行尾"}},[s._v("#")]),s._v(" 复制每行内容到每行行尾")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("执行 "),t("code",[s._v("./copy.sh")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# filename: copy.sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bak")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$IFS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("linenumber")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("item")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" test.txt"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("linenumber")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$linenumber")]),s._v("+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'${linenumber}s/$/${item}/g'")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bak")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" test.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("annotation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("any"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("注：关于 "),t("code",[s._v("IFS")]),s._v(" 参照 "),t("RouterLink",{attrs:{to:"/pages/84a54b/"}},[s._v("Read content line by line with shell")])],1),s._v(" "),t("h3",{attrs:{id:"在指定行后添加字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在指定行后添加字符串"}},[s._v("#")]),s._v(" 在指定行后添加字符串")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" t.txt\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("browser")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Chrome,Edge\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^browser=/{s/$/,Firefox/}'")]),s._v(" t.txt\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" t.txt\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("browser")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Chrome,Edge,Firefox\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"在指定字符后插入一行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在指定字符后插入一行"}},[s._v("#")]),s._v(" 在指定字符后插入一行")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("dlwxi@LAPTOP-H5QKDFVI MINGW64 ~/Desktop/test\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" t.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# register some queues in JNDI using the form")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# queue.[jndiName] = [physicalName]")]),s._v("\nqueue.MyQueue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" TestQueue\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/queue.MyQueue = TestQueue/a'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[s._v("\\\\")]),s._v('queue.MyQueue2 = TestQueue2"')]),s._v(" t.txt\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" t.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# register some queues in JNDI using the form")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# queue.[jndiName] = [physicalName]")]),s._v("\nqueue.MyQueue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" TestQueue\nqueue.MyQueue2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" TestQueue2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h2",{attrs:{id:"aix-sed-command"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aix-sed-command"}},[s._v("#")]),s._v(" AIX sed command")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/7232797/sed-on-aix-does-not-recognize-i-flag",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sed on AIX does not recognize -i flag"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web_xml")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WEB-INF/web.xml"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <auth-method>CLIENT-CERT</auth-method> ==> <auth-method>BASIC</auth-method>")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/<auth-method>CLIENT-CERT<\\/auth-method>/<auth-method>BASIC<\\/auth-method>/'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web_xml")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# update sed command due to AIX not support option '-i'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <auth-method>CLIENT-CERT</auth-method> ==> <auth-method>BASIC</auth-method>")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/<auth-method>CLIENT-CERT<\\/auth-method>/<auth-method>BASIC<\\/auth-method>/'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web_xml")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" tmp."),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" tmp."),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web_xml")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"sed-command-with-i-option-failing-on-mac-but-works-on-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed-command-with-i-option-failing-on-mac-but-works-on-linux"}},[s._v("#")]),s._v(" sed command with -i option failing on Mac, but works on Linux")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/4247068/sed-command-with-i-option-failing-on-mac-but-works-on-linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("sed command with -i option failing on Mac, but works on Linux"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://unix.stackexchange.com/questions/159367/using-sed-to-find-and-replace",target:"_blank",rel:"noopener noreferrer"}},[s._v("Using 'sed' to find and replace [duplicate]"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The following commands worked on MacOS Monterey 12.5, also worked on Windows10(use Git Bash, git version 2.33.0.windows.2)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# it will create a backup file: hello.txt-e on MacOS, but not on Windows10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/few/asd/g'")]),s._v(" hello.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/few/asd/g'")]),s._v(" hello.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# it will create a backup file: hello.txt.original")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.original'")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/few/asd/g'")]),s._v(" hello.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);