(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{482:function(a,s,e){"use strict";e.r(s);var n=e(18),t=Object(n.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"update-file-in-jar-war-ear"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update-file-in-jar-war-ear"}},[a._v("#")]),a._v(" Update file in jar/war/ear")]),a._v(" "),e("h3",{attrs:{id:"example1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example1"}},[a._v("#")]),a._v(" Example1")]),a._v(" "),e("p",[a._v("有一个 "),e("code",[a._v("test.war")]),a._v("，里面有很多 jar, 其中有一个 jar 叫 "),e("code",[a._v("generic.jar")]),a._v("。需要替换 "),e("code",[a._v("generic.jar")]),a._v(" 中一个叫 "),e("code",[a._v("application.properties")]),a._v(" 的文件。\nNB: "),e("code",[a._v("application.properties")]),a._v("(要替换的文件)需要在 jar 包的根目录(一级目录)下")]),a._v(" "),e("p",[a._v("假设准备好的"),e("code",[a._v("application.properties")]),a._v(" 和 "),e("code",[a._v("test.war")]),a._v(" 在一个路径下")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\ntest.war  application.properties\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 1")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将 generic.jar 从 test.war 中提取出来")]),a._v("\njar -xf test.war generic.jar\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\ntest.war  application.properties  generic.jar\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 2")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 用准备好的 application.properties 将 generic.jar 中的 application.properties 替换掉")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# jar -uf myfile.jar path/to/source/file target/file/in/jar")]),a._v("\njar -uf generic.jar application.properties application.properties\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 3")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 通过 Step 2 已经将 generic.jar 中的 application.properties 替换完毕")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 接下来就是用新的 generic.jar 将 test.war 中的 generic.jar 替换掉")]),a._v("\njar -uf test.war generic.jar generic.jar\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 4(optional)")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" generic.jar application.properties\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\ntest.war\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br")])]),e("h3",{attrs:{id:"example2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example2"}},[a._v("#")]),a._v(" Example2")]),a._v(" "),e("div",{staticClass:"language-batch line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-batch"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("C")]),e("span",{pre:!0,attrs:{class:"token label property"}},[a._v(":\\USERS\\XIN\\TEST\\TEST_EAR")])]),a._v("\n│   TEST_Web.war\n│\n└───lib\n        "),e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("test_generic")]),a._v(".jar")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("commons")]),a._v("-configuration"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("-1")]),a._v("."),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(".jar")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("commons")]),a._v("-lang"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("-2")]),a._v("."),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(".jar")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("Replace "),e("code",[a._v("log4j2.xml")]),a._v(" for "),e("code",[a._v("test_generic.jar")]),a._v(" in "),e("code",[a._v("TEST_EAR.ear")])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 1")]),a._v("\njar -xf TEST_EAR.ear lib/test_generic.jar\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# tree")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │   log4j2.xml")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │   TEST_EAR.ear")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# └───lib")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#         test_generic.jar")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" -f log4j2.xml lib\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 2")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 用准备好的 log4j2.xml 将 test_generic.jar 中的 log4j2.xml 替换掉")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" lib\njar -uf test_generic.jar log4j2.xml log4j2.xml\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 3")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 通过 Step 2 已经将 test_generic.jar 中的 log4j2.xml 替换完毕")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 接下来就是用新的 test_generic.jar 将 TEST_EAR.ear 中的 test_generic.jar 替换掉")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Back to TEST_EAR.ear location")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\njar -uf TEST_EAR.ear lib/test_generic.jar lib/test_generic.jar\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Step 4(optional)")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf lib\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nTEST_EAR.ear log4j2.xml\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br"),e("span",{staticClass:"line-number"},[a._v("27")]),e("br"),e("span",{staticClass:"line-number"},[a._v("28")]),e("br")])]),e("h2",{attrs:{id:"要替换的文件在-war-包的二级及以下目录下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#要替换的文件在-war-包的二级及以下目录下"}},[a._v("#")]),a._v(" 要替换的文件在 war 包的二级及以下目录下")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/edda/p/13328665.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("替换 war 包中的文件"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://fabianlee.org/2018/10/30/linux-using-zip-unzip-to-add-update-and-remove-files-from-a-java-jar-war/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux: Using zip/unzip to add, update, and remove files from a Java jar/war"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://stackoverflow.com/questions/19269961/how-to-unpackage-and-repackage-a-war-file",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to unpackage and repackage a WAR file"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=t.exports}}]);