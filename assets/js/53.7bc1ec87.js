(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{517:function(a,s,t){"use strict";t.r(s);var e=t(18),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[a._v("#")]),a._v(" Links")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak Offical Website"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://keycloak.org.cn/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak 中文官网"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/keycloak/keycloak",target:"_blank",rel:"noopener noreferrer"}},[a._v("keycloak in GitHub"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.keycloak.org/documentation",target:"_blank",rel:"noopener noreferrer"}},[a._v("Documentation"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.keycloak.org/docs/latest/"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/22.0.3",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.keycloak.org/docs/22.0.3"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/wuyongyin/p/15901913.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak 入门实战(1)--简介"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/keycloak/keycloak-quickstarts",target:"_blank",rel:"noopener noreferrer"}},[a._v("keycloak-quickstarts"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.bilibili.com/video/BV1554y1x7K7",target:"_blank",rel:"noopener noreferrer"}},[a._v("OAuth 2.0 and OpenID Connect (in plain English)"),t("OutboundLink")],1),t("strong",[a._v("Video")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://strigo-exercise-files.s3.eu-west-1.amazonaws.com/qiMrLqeiHoAszJsBq_6494110ee7b8c2e9fcff7322_fe6e4d198c25a665.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("OAuth 2.0 flow"),t("OutboundLink")],1),t("strong",[a._v("Image")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow",target:"_blank",rel:"noopener noreferrer"}},[a._v("Authorization Code Flow"),t("OutboundLink")],1),a._v(" "),t("strong",[a._v("Useful Link")])]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("理解 OAuth 2.0"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://8gwifi.org/jwkconvertfunctions.jsp",target:"_blank",rel:"noopener noreferrer"}},[a._v("JWK to PEM Convertor online"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"rfc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rfc"}},[a._v("#")]),a._v(" RFC")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc6749",target:"_blank",rel:"noopener noreferrer"}},[a._v("RFC 6749: The OAuth 2.0 Authorization Framework"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc7519",target:"_blank",rel:"noopener noreferrer"}},[a._v("RFC 7519: JSON Web Token (JWT)"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc7517",target:"_blank",rel:"noopener noreferrer"}},[a._v("RFC 7517: JSON Web Key (JWK)"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[a._v("#")]),a._v(" Overview")]),a._v(" "),t("p",[a._v("Keycloak 是针对现代应用程序和服务的开源身份和访问管理解决方案")]),a._v(" "),t("p",[a._v("Open Source Identity and Access Management")]),a._v(" "),t("p",[a._v("Add authentication to applications and secure services with minimum effort.")]),a._v(" "),t("p",[a._v("No need to deal with storing users or authenticating users.")]),a._v(" "),t("p",[a._v("Keycloak provides user federation, strong authentication, user management, fine-grained authorization, and more.")]),a._v(" "),t("h2",{attrs:{id:"concept"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concept"}},[a._v("#")]),a._v(" Concept")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/server_admin/index.html#core-concepts-and-terms",target:"_blank",rel:"noopener noreferrer"}},[a._v("Core concepts and terms"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"realm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#realm"}},[a._v("#")]),a._v(" Realm")]),a._v(" "),t("p",[a._v("A realm manages a set of users, credentials, roles, and groups. A user belongs to and logs into a realm. Realms are isolated from one another and can only manage and authenticate the users that they control.")]),a._v(" "),t("p",[a._v("A realm in Keycloak is equivalent to a tenant. Each realm allows an administrator to create isolated groups of applications and users. Initially, Keycloak includes a single realm, called master. Use this realm only for managing Keycloak and not for managing any applications.")]),a._v(" "),t("h3",{attrs:{id:"clients"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clients"}},[a._v("#")]),a._v(" Clients")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/server_admin/index.html#assembly-managing-clients_server_administration_guides",target:"_blank",rel:"noopener noreferrer"}},[a._v("Managing OpenID Connect and SAML Clients"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("Clients are applications and services that can request authentication of a user. Clients are entities that can request authentication of a user.\n客户端是可以请求用户身份验证的实体。client 有两种形式。第一种类型的是想要参与单点登录的应用程序。这些 client 只是希望 Keycloak 为他们提供安全保障。另一种类型的 client 请求访问令牌，以便它可以代表经过身份验证的用户调用其他服务。")]),a._v(" "),t("h2",{attrs:{id:"server-administration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-administration"}},[a._v("#")]),a._v(" Server Administration")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/server_admin/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Server Administration Guide"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/server_admin/#_timeouts",target:"_blank",rel:"noopener noreferrer"}},[a._v("Session and token timeouts"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# To start in development mode")]),a._v("\nbin/kc.sh start-dev\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# To start in production mode")]),a._v("\nbin/kc.sh start\n\nbin/kc.sh start --help\nbin/kc.sh --config-file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/path/to/myconfig.conf start\nbin/kc.sh start-dev --http-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8180")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("h3",{attrs:{id:"creating-the-account-remotely"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-the-account-remotely"}},[a._v("#")]),a._v(" Creating the account remotely")]),a._v(" "),t("p",[a._v("如果您无法从 "),t("code",[a._v("localhost")]),a._v(" 地址访问服务器或只想从命令行启动 Keycloak，请使用 "),t("code",[a._v("KEYCLOAK_ADMIN")]),a._v(" 和 "),t("code",[a._v("KEYCLOAK_ADMIN_PASSWORD")]),a._v(" 环境变量创建初始管理员帐户。")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYCLOAK_ADMIN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYCLOAK_ADMIN_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\nbin/kc."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("sh"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("bat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" start\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"shows-the-configuration-of-the-protocol-endpoints"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shows-the-configuration-of-the-protocol-endpoints"}},[a._v("#")]),a._v(" Shows the configuration of the protocol endpoints")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://localhost:8080/realms/master/.well-known/openid-configuration",target:"_blank",rel:"noopener noreferrer"}},[a._v("OpenID Endpoint Configuration"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"admin-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#admin-cli"}},[a._v("#")]),a._v(" Admin CLI")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/docs/latest/server_admin/index.html#admin-cli",target:"_blank",rel:"noopener noreferrer"}},[a._v("Admin CLI"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KEYCLOAK_HOME")]),a._v("/bin\nkcadm.sh\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"server-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-configuration"}},[a._v("#")]),a._v(" Server configuration")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/server/all-config",target:"_blank",rel:"noopener noreferrer"}},[a._v("All configuration"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"configuring-keycloak"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring-keycloak"}},[a._v("#")]),a._v(" Configuring Keycloak")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/server/configuration",target:"_blank",rel:"noopener noreferrer"}},[a._v("Configuring Keycloak"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"getting-started-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-docker"}},[a._v("#")]),a._v(" Getting started/Docker")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/getting-started/getting-started-docker",target:"_blank",rel:"noopener noreferrer"}},[a._v("Get started with Keycloak on Docker"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"start-keycloak"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-keycloak"}},[a._v("#")]),a._v(" Start Keycloak")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --name wx-keycloak "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":8080 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYCLOAK_ADMIN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYCLOAK_ADMIN_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -d quay.io/keycloak/keycloak:22.0.1 start-dev\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Updating the configuration and installing your custom providers, if any. Please wait.\n2023-07-29 03:25:18,629 INFO  [io.quarkus.deployment.QuarkusAugmentor] (main) Quarkus augmentation completed in 16633ms\n2023-07-29 03:25:21,099 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: <request>, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: false\n2023-07-29 03:25:24,052 WARN  [io.quarkus.agroal.runtime.DataSources] (main) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly\n2023-07-29 03:25:25,111 WARN  [org.infinispan.PERSISTENCE] (keycloak-cache-init) ISPN000554: jboss-marshalling is deprecated and planned for removal\n2023-07-29 03:25:25,526 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'\n2023-07-29 03:25:29,099 INFO  [org.keycloak.quarkus.runtime.storage.legacy.liquibase.QuarkusJpaUpdaterProvider] (main) Initializing database schema. Using changelog META-INF/jpa-changelog-master.xml\n2023-07-29 03:25:33,601 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_404931, Site name: null\n2023-07-29 03:25:33,786 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener\n2023-07-29 03:25:33,890 INFO  [org.keycloak.services] (main) KC-SERVICES0050: Initializing master realm\n2023-07-29 03:25:38,281 INFO  [io.quarkus] (main) Keycloak 22.0.1 on JVM (powered by Quarkus 3.2.0.Final) started in 19.441s. Listening on: http://0.0.0.0:8080\n2023-07-29 03:25:38,282 INFO  [io.quarkus] (main) Profile dev activated.\n2023-07-29 03:25:38,282 INFO  [io.quarkus] (main) Installed features: [agroal, cdi, hibernate-orm, jdbc-h2, jdbc-mariadb, jdbc-mssql, jdbc-mysql, jdbc-oracle, jdbc-postgresql, keycloak, logging-gelf, micrometer, narayana-jta, reactive-routes, resteasy, resteasy-jackson, smallrye-context-propagation, smallrye-health, vertx]\n2023-07-29 03:25:38,615 INFO  [org.keycloak.services] (main) KC-SERVICES0009: Added user 'admin' to realm 'master'\n2023-07-29 03:25:38,619 WARN  [org.keycloak.quarkus.runtime.KeycloakMain] (main) Running the server in development mode. DO NOT use this configuration in production.\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br")])]),t("h2",{attrs:{id:"log-in-to-the-admin-console"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log-in-to-the-admin-console"}},[a._v("#")]),a._v(" Log in to the Admin Console")]),a._v(" "),t("p",[a._v("Go to the "),t("a",{attrs:{href:"http://localhost:8080/admin",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak Admin Console"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("If you see the following error message in Keycloak Admin Console")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("HTTPS required.\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Can use the following solution")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://groups.google.com/g/keycloak-user/c/H95eYsbhVHg",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to disable SSL for latest Keycloak?"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("keycloak-container-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /bin/sh\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /opt/keycloak/bin\n./kcadm.sh update realms/master -s "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("sslRequired")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("NONE --server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://0.0.0.0:8080 --realm"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("master --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n./kcadm.sh config credentials --server http://0.0.0.0:8080 --realm master --user admin\n./kcadm.sh update realms/master -s "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("sslRequired")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("NONE\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("h2",{attrs:{id:"log-in-to-the-account-console"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log-in-to-the-account-console"}},[a._v("#")]),a._v(" Log in to the Account Console")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("<host>:<port>/realms/<realm-name>")])]),a._v(" "),t("li",[t("code",[a._v("<host>:<port>/realms/<realm-name>/account")])])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://localhost:8080/realms/master "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" jq "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"realm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"master"')]),a._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"public_key"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"MIIBIjANBgk..."')]),a._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"token-service"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://localhost:8080/realms/master/protocol/openid-connect"')]),a._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"account-service"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://localhost:8080/realms/master/account"')]),a._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tokens-not-before"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("p",[a._v("Open the Keycloak Account Console "),t("a",{attrs:{href:"http://localhost:8080/realms/myrealm/account",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:8080/realms/myrealm/account"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("h2",{attrs:{id:"endpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoint"}},[a._v("#")]),a._v(" Endpoint")]),a._v(" "),t("h3",{attrs:{id:"common-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-variables"}},[a._v("#")]),a._v(" Common variables")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_SERVER_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://localhost:8080\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_REALM_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("master\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_USERNAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"openid-endpoint-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openid-endpoint-configuration"}},[a._v("#")]),a._v(" OpenID Endpoint Configuration")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_SERVER_URL")]),a._v("/realms/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_REALM_NAME")]),a._v("/.well-known/openid-configuration "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" jq "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"auth"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#auth"}},[a._v("#")]),a._v(" auth")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://aaronparecki.com/oauth-2-simplified/#web-server-apps",target:"_blank",rel:"noopener noreferrer"}},[a._v("OAuth 2 Simplified"),t("OutboundLink")],1),a._v(" "),t("strong",[a._v("Useful Link")])])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_SERVER_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://localhost:8080\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_REALM_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("myrealm\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_CLIENT_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("myclient\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_SCOPE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"profile"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_REDIRECT_URI_01")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.keycloak.org/app/"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_STATE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1234test\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KC_USR_QUICKSTART_RESPONSE_TYPE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("code\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_SERVER_URL")]),a._v("/realms/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_REALM_NAME")]),a._v("/protocol/openid-connect/auth "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--header "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/x-www-form-urlencoded'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"response_type='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_RESPONSE_TYPE")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"client_id='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_CLIENT_ID")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"redirect_uri='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_REDIRECT_URI_01")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scope='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_SCOPE")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"state='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_STATE")]),a._v('"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("http://localhost:8080/realms/myrealm/protocol/openid-connect/auth?response_type=code&client_id=myclient&redirect_uri=https://www.keycloak.org/app/&scope=profile&state=1234test\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[a._v("#")]),a._v(" token")]),a._v(" "),t("p",[t("strong",[a._v("authorization_code")])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_SERVER_URL")]),a._v("/realms/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_REALM_NAME")]),a._v("/protocol/openid-connect/token "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--header "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/x-www-form-urlencoded'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"grant_type=authorization_code"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"code='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${code}")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"client_id='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_QUICKSTART_CLIENT_ID")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"client_secret='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${CLIENT_SECRET}")]),a._v('"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[t("strong",[a._v("password")])]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.appsdeveloperblog.com/keycloak-rest-api-create-a-new-user/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak REST API: Create a New User"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_SERVER_URL")]),a._v("/realms/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$KC_USR_REALM_NAME")]),a._v("/protocol/openid-connect/token "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--header "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/x-www-form-urlencoded'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"username='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${KC_USR_USERNAME}")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${KC_USR_PASSWORD}")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'grant_type=password'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'client_id=admin-cli'")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// output")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"access_token"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJiWUFKUlA1QjBZVUFvQkxWcTVtTEVMY1JuOHJHN3BETDk0VzZFV21XaUgwIn0.eyJleHAiOjE2OTQ4MjQ0MzMsImlhdCI6MTY5NDgyNDM3MywianRpIjoiODcyNDc3NzktNWU5Yy00ZGQ0LTk0Y2MtZGQ4MDFhZDA1NDE5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9tYXN0ZXIiLCJzdWIiOiI5ZjgyZWJjNy04MGIzLTQ0ZmQtYjIxMy03ZGUzYzc1Njc3NTkiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJhZG1pbi1jbGkiLCJzZXNzaW9uX3N0YXRlIjoiZGM4YTI4ODgtYWMxZS00YjZiLTg2ZTYtZDczOGM3NWJiNTQ4IiwiYWNyIjoiMSIsInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6ImRjOGEyODg4LWFjMWUtNGI2Yi04NmU2LWQ3MzhjNzViYjU0OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qDce6RnMxRlihfeu4WleBb1_0aQdidQiH-AtHFlV5yxhWiNlSHbT0vvFynACt7IKmgPzyv1_qr4g-7D99QjhZB_AgRwVqwITseMwrUNZOdWHEgLwUAX8OeAl8PfagP5RexOEKn1UZllVhh9k5tFCLiE1atMXYacrXRHXTRQkY4FXARHYOTCiwy-qHcX3fQIT3Am53i6Kf5XJJ9HsTqVGLz45KKeU1rW-VW4MNsp9K89Ms69weJ7S-PLsBmEn_v903JwZwUeVj_cAj4EtPw-gUJfXqeV3v8cqqlKHsNCiv7fG_xaX1PYEAOt-AWTGCvJkg5ZKUQ6MmlFF_cG5rj9F3g"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"expires_in"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"refresh_expires_in"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1800")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"refresh_token"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhZTljNzA1ZS1kZTljLTRkYjMtYWI2MC01NTZkZmYyNGZjMmEifQ.eyJleHAiOjE2OTQ4MjYxNzMsImlhdCI6MTY5NDgyNDM3MywianRpIjoiMzQzZWRhNWMtMWRlNy00MTUyLWJmMDgtODk2YWEzYjE1YWY5IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9tYXN0ZXIiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVhbG1zL21hc3RlciIsInN1YiI6IjlmODJlYmM3LTgwYjMtNDRmZC1iMjEzLTdkZTNjNzU2Nzc1OSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJhZG1pbi1jbGkiLCJzZXNzaW9uX3N0YXRlIjoiZGM4YTI4ODgtYWMxZS00YjZiLTg2ZTYtZDczOGM3NWJiNTQ4Iiwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiZGM4YTI4ODgtYWMxZS00YjZiLTg2ZTYtZDczOGM3NWJiNTQ4In0.UD3AB8vIXog6Tec4oOhfq6s5qLRxdnX5OIOBYcXQOiA"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"token_type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bearer"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"not-before-policy"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"session_state"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"dc8a2888-ac1e-4b6b-86e6-d738c75bb548"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scope"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"email profile"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ACCESS_TOKEN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -s $KC_USR_SERVER_URL/realms/$KC_USR_REALM_NAME/protocol/openid-connect/token "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -H "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'content-type: application/x-www-form-urlencoded'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"username='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${KC_USR_USERNAME}")]),a._v("&password="),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${KC_USR_PASSWORD}")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'grant_type=password&client_id=admin-cli'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" jq -r "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.access_token'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# eval jwt decode $(curl -s $KC_USR_SERVER_URL/realms/$KC_USR_REALM_NAME/protocol/openid-connect/token \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   --header 'Content-Type: application/x-www-form-urlencoded' \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   --data-urlencode 'username=admin' \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   --data-urlencode 'password=admin' \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   --data-urlencode 'grant_type=password' \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   --data-urlencode 'client_id=admin-cli' \\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#   | jq .access_token)")]),a._v("\n\njwt decode "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ACCESS_TOKEN")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// output")]),a._v("\nToken header\n------------\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"typ"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"JWT"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"alg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"RS256"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"kid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"bYAJRP5B0YUAoBLVq5mLELcRn8rG7pDL94W6EWmWiH0"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\nToken claims\n------------\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"acr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"azp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"admin-cli"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"email_verified"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"exp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1694824433")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"iat"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1694824373")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"iss"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://localhost:8080/realms/master"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"jti"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"87247779-5e9c-4dd4-94cc-dd801ad05419"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"preferred_username"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"admin"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scope"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"email profile"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"session_state"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"dc8a2888-ac1e-4b6b-86e6-d738c75bb548"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"sid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"dc8a2888-ac1e-4b6b-86e6-d738c75bb548"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"sub"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"9f82ebc7-80b3-44fd-b213-7de3c7567759"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"typ"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bearer"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br")])]),t("h2",{attrs:{id:"how-to-integrate-spring-boot-3-spring-security-and-keycloak"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-integrate-spring-boot-3-spring-security-and-keycloak"}},[a._v("#")]),a._v(" How to integrate Spring Boot 3, Spring Security, and Keycloak")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developers.redhat.com/articles/2023/07/24/how-integrate-spring-boot-3-spring-security-and-keycloak",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to integrate Spring Boot 3, Spring Security, and Keycloak"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://dzone.com/articles/spring-boot-3-keycloak",target:"_blank",rel:"noopener noreferrer"}},[a._v("Secure Spring Boot 3 Application With Keycloak"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/elirenato/secure-api-spring/tree/main",target:"_blank",rel:"noopener noreferrer"}},[a._v("secure-api-spring"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/keycloak/keycloak-quickstarts/tree/latest/spring/rest-authz-resource-server",target:"_blank",rel:"noopener noreferrer"}},[a._v("keycloak-quickstarts"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3",target:"_blank",rel:"noopener noreferrer"}},[a._v("Use Keycloak Spring Adapter with Spring Boot 3"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"article"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#article"}},[a._v("#")]),a._v(" Article")]),a._v(" "),t("h3",{attrs:{id:"deprecation-of-keycloak-adapters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deprecation-of-keycloak-adapters"}},[a._v("#")]),a._v(" Deprecation of Keycloak adapters")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.keycloak.org/2023/03/adapter-deprecation-update.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Update on deprecation of Keycloak adapters"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.keycloak.org/2022/02/adapter-deprecation.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Deprecation of Keycloak adapters"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/keycloak/keycloak/discussions/10187",target:"_blank",rel:"noopener noreferrer"}},[a._v("Spring Security and Boot deprecation"),t("OutboundLink")],1)])]),a._v(" "),t("h3",{attrs:{id:"others"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#others"}},[a._v("#")]),a._v(" Others")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/38114832/keycloak-can-i-set-the-expiry-of-a-token-per-client-user-role",target:"_blank",rel:"noopener noreferrer"}},[a._v("Keycloak: Can I set the expiry of a token per client/user/role?"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);