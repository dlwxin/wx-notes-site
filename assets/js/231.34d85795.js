(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{693:function(s,t,a){"use strict";a.r(t);var n=a(18),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[s._v("#")]),s._v(" Overview")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.hashicorp.com/terraform/language/providers",target:"_blank",rel:"noopener noreferrer"}},[s._v("Providers"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://registry.terraform.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform Registry"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"provider-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provider-configuration"}},[s._v("#")]),s._v(" Provider Configuration")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.hashicorp.com/terraform/language/providers/configuration",target:"_blank",rel:"noopener noreferrer"}},[s._v("Provider Configuration"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"alias-multiple-provider-configurations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alias-multiple-provider-configurations"}},[s._v("#")]),s._v(" "),a("code",[s._v("alias")]),s._v(": Multiple Provider Configurations")]),s._v(" "),a("p",[a("code",[s._v("alias")]),s._v(", for using the same provider with different configurations for different resources")]),s._v(" "),a("p",[s._v("You can optionally define multiple configurations for the same provider, and select which one to use on a per-resource or per-module basis. "),a("strong",[s._v("The primary reason for this is to support multiple regions for a cloud platform")]),s._v("; other examples include targeting multiple Docker hosts, multiple Consul hosts, etc.")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The default provider configuration; resources that begin with `aws_` will use")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# it as the default, and it can be referenced as `aws`.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provider"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "aws" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("region")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"us-east-1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Additional provider configuration for west coast region; resources can")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# reference this as `aws.west`.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provider"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "aws" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("alias")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"west"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("region")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"us-west-2"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"docker-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-provider"}},[s._v("#")]),s._v(" Docker Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/kreuzwerker/docker/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Provider"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"aws-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-provider"}},[s._v("#")]),s._v(" AWS Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("AWS Provider"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"argument-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#argument-reference"}},[s._v("#")]),s._v(" Argument Reference")]),s._v(" "),a("p",[s._v("In addition to "),a("a",{attrs:{href:"https://www.terraform.io/docs/configuration/providers.html?_ga=2.119562952.1101447067.1667129735-1513954116.1665063660",target:"_blank",rel:"noopener noreferrer"}},[s._v("generic "),a("code",[s._v("provider")]),s._v(" arguments"),a("OutboundLink")],1),s._v(" (e.g., alias and version), the following arguments are supported in the AWS provider block:")]),s._v(" "),a("p",[s._v("The AWS Provider supports assuming an IAM role, either in the provider configuration block parameter assume_role or in a named profile.")]),s._v(" "),a("p",[a("code",[s._v("assume_role")]),s._v(" - (Optional) Configuration block for assuming an IAM role. See the "),a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/aws/latest/docs#assume_role-configuration-block",target:"_blank",rel:"noopener noreferrer"}},[s._v("assume_role Configuration Block"),a("OutboundLink")],1),s._v(" section below. Only one assume_role block may be in the configuration.")]),s._v(" "),a("blockquote",[a("p",[s._v("AWS AssumeRole allows an IAM user to use security credentials from one AWS account to request temporary security credentials to access other AWS accounts by assuming roles in those accounts.")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provider"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "aws" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("region")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v("aws_region")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assume_role")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("role_arn")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arn:aws:iam::<AWS-ACCOUNT-ID>:role/admin"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("profile")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"default"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("session_name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"common-data-sources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-data-sources"}},[s._v("#")]),s._v(" Common Data Sources")]),s._v(" "),a("p",[a("strong",[s._v("aws_default_tags")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use this data source to get the default tags configured on the provider.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_default_tags"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"provider"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "tags" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_default_tags.provider.tags\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("aws_caller_identity")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use this data source to get the access to the effective Account ID, User ID, and ARN in which Terraform is authorized.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_caller_identity"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"current"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "account_id" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_caller_identity.current.account_id\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "caller_arn" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_caller_identity.current.arn\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "caller_user" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_caller_identity.current.user_id\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v("aws_instances")])]),s._v(" "),a("p",[s._v("Use this data source to get IDs or IPs of Amazon EC2 instances to be referenced elsewhere, e.g., to allow easier migration from another management solution or to make it easier for an operator to connect through bastion host(s).")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_instances"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# instance_tags = {")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#   Role = "HardWorker"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("filter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"instance.group-id"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("values")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sg-12345678"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("filter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tag:ToBeDeleted"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("values")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"flase"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"False"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"N"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("instance_state_names")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"running"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stopped"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_eip"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" length(data.aws_instances.test.ids)\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("instance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_instances.test.ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("count.index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[a("strong",[s._v("aws_iam_account_alias")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The IAM Account Alias data source allows access to the account alias for the effective account in which Terraform is working.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Note: There is only a single account alias per AWS account.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_iam_account_alias"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"current"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "account_alias" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_iam_account_alias.current.account_alias\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("aws_region")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provides details about a specific AWS region.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_region"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"current"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "region" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_region.current.name\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("aws_s3_objects")])]),s._v(" "),a("p",[s._v("The following example retrieves a list of all object keys in an S3 bucket and creates corresponding Terraform object data sources:")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_s3_objects"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_objects"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("bucket")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ourcorp"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_s3_object"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"object_info"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" length(data.aws_s3_objects.my_objects.keys)\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("key")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" element(data.aws_s3_objects.my_objects.keys, count.index)\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("bucket")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_s3_objects.my_objects.bucket\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("strong",[s._v("aws_secretsmanager_secrets")])]),s._v(" "),a("p",[s._v("Use this data source to get the ARNs and names of Secrets Manager secrets matching the specified criteria.")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_secretsmanager_secrets"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("filter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("values")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"example"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("aws_secretsmanager_secret_version")])]),s._v(" "),a("p",[s._v("Retrieve information about a Secrets Manager secret version, including its secret value. To retrieve secret metadata, see the aws_secretsmanager_secret data source.")]),s._v(" "),a("p",[s._v("Retrieve Current Secret Version")]),s._v(" "),a("p",[s._v("By default, this data sources retrieves information based on the "),a("code",[s._v("AWSCURRENT")]),s._v(" staging label.")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_secretsmanager_secret_version"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"secret-version"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("secret_id")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_secretsmanager_secret.example.id\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("strong",[s._v("aws_canonical_user_id")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The Canonical User ID data source allows access to the canonical user ID for the effective account in which Terraform is working.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Note: To use this data source, you must have the `s3:ListAllMyBuckets` permission.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_canonical_user_id"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"current"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "canonical_user_id" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" data.aws_canonical_user_id.current.id\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("aws_iam_policy_document")])]),s._v(" "),a("p",[s._v("Generates an IAM policy document in JSON format for use with resources that expect policy documents such as "),a("code",[s._v("aws_iam_policy")]),s._v(".")]),s._v(" "),a("p",[s._v("Using this data source to generate policy documents is optional. It is also valid to use literal JSON strings in your configuration or to use the "),a("code",[s._v("file")]),s._v(" interpolation function to read a raw JSON policy document from a file.")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_iam_policy_document"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"adfs_assume"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("version")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2012-10-17"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("statement")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("effect")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Allow"')]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# actions = ["sts:AssumeRole"]')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("actions")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sts:AssumeRoleWithSAML"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("principals")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("type")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Federated"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("identifiers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arn:aws:iam::'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v("account_id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(':saml-provider/ADFS"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# identifiers = ["arn:aws:iam::${var.account_id}:saml-provider/${var.provider_name}", "cognito-identity.amazonaws.com"]')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("condition")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("test")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"StringEquals"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("values")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://signin.aws.amazon.com/saml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("variable")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SAML:aud"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"common-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-resources"}},[s._v("#")]),s._v(" Common Resources")]),s._v(" "),a("p",[a("strong",[s._v("aws_ecr_repository")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_ecr_repository"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bar"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# image_tag_mutability = "MUTABLE"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("aws_sns_topic")])]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_sns_topic"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_updates"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user-updates-topic"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("strong",[s._v("aws_launch_template")])]),s._v(" "),a("p",[s._v("Provides an EC2 launch template resource. Can be used to create instances or auto scaling groups.")]),s._v(" "),a("h2",{attrs:{id:"null-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#null-provider"}},[s._v("#")]),s._v(" Null Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/null/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Null Provider"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/68052815/terraform-what-is-null-provider",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform - what is null provider?"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("The primary use-case for the null resource is as a do-nothing container for arbitrary actions taken by a "),a("strong",[s._v("provisioner")]),s._v(".")]),s._v(" "),a("p",[s._v("As the description writes, you use it mostly with "),a("a",{attrs:{href:"https://www.terraform.io/docs/language/resources/provisioners/syntax.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("provisioners"),a("OutboundLink")],1),s._v(" such as "),a("code",[s._v("local-exec")]),s._v(" and "),a("code",[s._v("remote-exec")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"null_resource"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"before"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"null_resource"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"delay"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provisioner"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "local-exec" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sleep 10"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("triggers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"before"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("null_resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("before"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"null_resource"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"after"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("depends_on")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"null_resource.delay"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-hcl line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-hcl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"aws_instance"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cluster"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"null_resource"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cluster"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Changes to any instance of the cluster requires re-provisioning")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("triggers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("cluster_instance_ids")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('","')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" aws_instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Bootstrap script can run on any instance of the cluster")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# So we just choose the first in this case")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("host")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("element")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("aws_instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("public_ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provisioner"),a("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "remote-exec" ')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Bootstrap script called with private_ip of each node in the cluster")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bootstrap-cluster.sh '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" aws_instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("private_ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h2",{attrs:{id:"random-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#random-provider"}},[s._v("#")]),s._v(" Random Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/random/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Random Provider"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v('The "random" provider allows the use of randomness within Terraform configurations. This is a '),a("strong",[s._v("logical provider")]),s._v(", which means that it works entirely within Terraform's logic, and doesn't interact with any other services.")]),s._v(" "),a("h2",{attrs:{id:"local-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#local-provider"}},[s._v("#")]),s._v(" Local Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/local/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Local Provider"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("Used to manage local resources, such as creating files")]),s._v(" "),a("h2",{attrs:{id:"rancher2-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rancher2-provider"}},[s._v("#")]),s._v(" Rancher2 Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/rancher/rancher2/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rancher2 Provider"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("The Rancher2 provider is used to interact with the resources supported by Rancher v2.")]),s._v(" "),a("h3",{attrs:{id:"install-rancher2-as-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-rancher2-as-plugin"}},[s._v("#")]),s._v(" Install rancher2 as plugin")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/rancher/terraform-provider-rancher2/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("terraform-provider-rancher2 package"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"helm-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#helm-provider"}},[s._v("#")]),s._v(" Helm Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/helm/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Helm Provider"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("The Helm provider is used to deploy software packages in Kubernetes. The provider needs to be configured with the proper credentials before it can be used.")]),s._v(" "),a("h2",{attrs:{id:"cloud-init-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloud-init-provider"}},[s._v("#")]),s._v(" Cloud-init Provider")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://registry.terraform.io/providers/hashicorp/cloudinit/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cloud-init Provider"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"template-provider"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#template-provider"}},[s._v("#")]),s._v(" Template Provider")]),s._v(" "),a("p",[s._v("The template provider exposes data sources to use templates to generate strings for other Terraform resources or outputs.")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[a("strong",[s._v("This provider is deprecated.")]),a("br"),s._v("\nWe now recommend that you use one of the approaches in the Deprecation section below.")])])])}),[],!1,null,null,null);t.default=e.exports}}]);