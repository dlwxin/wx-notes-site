(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{606:function(e,r,n){"use strict";n.r(r);var s=n(18),a=Object(s.a)({},(function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"error-refreshing-container-xxx-error-acquiring-lock-0-for-container"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#error-refreshing-container-xxx-error-acquiring-lock-0-for-container"}},[e._v("#")]),e._v(" Error refreshing container XXX: error acquiring lock 0 for container")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://bugzilla.redhat.com/show_bug.cgi?id=1888988",target:"_blank",rel:"noopener noreferrer"}},[e._v("Error refreshing container XXX: error acquiring lock 0 for container"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/66324225/podman-pod-disappears-after-a-few-days-but-process-is-still-running-and-listeni",target:"_blank",rel:"noopener noreferrer"}},[e._v("Podman pod disappears after a few days, but process is still running and listening on a given port"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/containers/podman/issues/13240",target:"_blank",rel:"noopener noreferrer"}},[e._v("rootless podman issues after user logs out "),n("OutboundLink")],1)])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("ERRO[0000] Error refreshing container af05fafe31f6bfb00c2599255c47e35813ecf5af9bbe6760ae8a4abffd343627: error acquiring lock 1 for container af05fafe31f6bfb00c2599255c47e35813ecf5af9bbe6760ae8a4abffd343627: file exists\nERRO[0000] Error refreshing container b4620633d99f156bb59eb327a918220d67145f8198d1c42b90d81e6cc29cbd6b: error acquiring lock 2 for container b4620633d99f156bb59eb327a918220d67145f8198d1c42b90d81e6cc29cbd6b: file exists\nERRO[0000] Error refreshing pod 389b0c34313d9b23ecea3faa0e494e28413bd15566d66297efa9b5065e025262: error retrieving lock 0 for pod 389b0c34313d9b23ecea3faa0e494e28413bd15566d66297efa9b5065e025262: file exists\nPOD ID        NAME               STATUS   CREATED     INFRA ID      # OF CONTAINERS\n389b0c34313d  elasticsearch-pod  Created  1 week ago  af05fafe31f6  2\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[n("strong",[e._v("Workaround")])]),e._v(" "),n("p",[e._v("First, check the runRoot default directory set for your Podman rootless user:")]),e._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[e._v("podman info "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" runRoot\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("Create the temporary configuration file:")]),e._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" /usr/lib/tmpfiles.d/podman.conf\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("Add the following content, replacing "),n("code",[e._v("/tmp/podman-run-*")]),e._v(" by your default runRoot directory."),n("br"),e._v("\nE.g. If your output is "),n("code",[e._v("/tmp/run-6695/containers")]),e._v(" then use: "),n("code",[e._v("x /tmp/run-*")])]),e._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# /tmp/podman-run-* directory can contain content for Podman containers that have run")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# for many days. This following line prevents systemd from removing this content.")]),e._v("\nx /tmp/podman-run-*\nx /tmp/containers-user-*\nD"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v(" /run/podman 0700 root root\nD"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v(" /var/lib/cni/networks\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("p",[e._v("Copy the temporary file from "),n("code",[e._v("/usr/lib/tmpfiles.d")]),e._v(" to "),n("code",[e._v("/etc/tmpfiles.d/")])]),e._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" -p /usr/lib/tmpfiles.d/podman.conf /etc/tmpfiles.d/\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("After you have done all the steps according to your configuration, the error should disappear.")])])}),[],!1,null,null,null);r.default=a.exports}}]);