(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{785:function(s,a,t){"use strict";t.r(a);var e=t(18),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[s._v("#")]),s._v(" Links")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://gist.github.com/zhiguangwang/7018fbc0a38a5b663868",target:"_blank",rel:"noopener noreferrer"}},[s._v("Installing and running shadowsocks on Ubuntu Server"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.linuxbabe.com/ubuntu/shadowsocks-libev-proxy-server-ubuntu",target:"_blank",rel:"noopener noreferrer"}},[s._v("How to Set Up Shadowsocks-libev Proxy Server on Ubuntu"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Download shadowsocks-windows"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/shadowsocks/ShadowsocksX-NG/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Download shadowsocks-macos"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://iyideng.vip/black-technology/cgfw/iphone-shadowsocks-shadowrocket-tutorials.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("苹果手机 iPhone 安装 Shadowrocket"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[s._v("#")]),s._v(" Overview")]),s._v(" "),t("p",[s._v("Shadowsocks 是一个基于 Socks5 代理协议。")]),s._v(" "),t("p",[s._v("在 Shadowsocks 客户端的全局模式下，其通过修改系统的代理设置来实现将网络流量重定向至 Shadowsocks 代理服务器的功能。其中主要包括以下几个步骤：")]),s._v(" "),t("ol",[t("li",[s._v("Shadowsocks 客户端会在运行过程中创建一个本地 HTTP/HTTPS/SOCKS 代理服务器。")]),s._v(" "),t("li",[s._v("用户在 Shadowsocks 客户端中配置好代理服务器的相关信息，如地址、加密方式等。")]),s._v(" "),t("li",[s._v("当启用全局模式后，Shadowsocks 客户端会自动读取系统的代理设置，在代理设置中将代理协议设置为 SOCKS5，并将代理服务器地址和端口设置为当前 Shadowsocks 客户端创建的本地代理服务器的地址和端口。")]),s._v(" "),t("li",[s._v("最后，用户的所有网络请求将会被重定向至本地代理服务器进行处理，并由代理服务器将请求转发至 Shadowsocks 代理服务器上，实现了数据的加密传输。")])]),s._v(" "),t("p",[s._v("当 Shadowsocks 客户端运行在全局模式下时，Shadowsocks 会首先检查用户的操作系统，并向系统设置代理。具体而言，如果用户正在使用 Windows 操作系统，则 Shadowsocks 会使用 "),t("strong",[s._v("WinINET API")]),s._v(" 来修改系统代理设置。")]),s._v(" "),t("p",[s._v("总之，Shadowsocks 客户端通过修改系统的代理设置来实现对所有网络流量的控制与管理，从而使用户的所有网络访问都经过加密传输，保护用户的隐私安全。")]),s._v(" "),t("h2",{attrs:{id:"set-proxy-in-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-proxy-in-cli"}},[s._v("#")]),s._v(" Set Proxy in CLI")]),s._v(" "),t("h3",{attrs:{id:"linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[s._v("#")]),s._v(" Linux")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export HTTP_PROXY=http://username:password@proxy_host:port")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export HTTPS_PROXY=https://username:password@proxy_host:port")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export ALL_PROXY=http://127.0.0.1:1080")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://127.0.0.1:1080\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HTTP_PROXY")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://127.0.0.1:1080\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HTTP_PROXY")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HTTP_PROXY")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HTTP_PROXY")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ftp_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HTTP_PROXY")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("no_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1,localhost"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Test whether the proxy is set successfully")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$curl")]),s._v(" ipinfo.io/ip\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.115")]),s._v(".253.220\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Or")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://httpbin.org/ip\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"origin"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"13.115.253.220"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[s._v("#")]),s._v(" Windows")]),s._v(" "),t("div",{staticClass:"language-batch line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-batch"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("HTTP_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("HTTPS_PROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("%HTTP_PROXY%")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("REM socks5://127.0.0.1:1080 是本地 Shadowsocks 代理服务器的地址和端口。这个端口号是用户在配置 Shadowsocks 时设置的。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("http_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("socks5:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("https_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("socks5:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("REM set variables to user environment variables")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setx")]),s._v(" HTTP_PROXY http://"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("setx")]),s._v(" HTTPS_PROXY "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("%HTTP_PROXY%")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM setx http_proxy https-proxy-server:port "user-name:password"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM setx https_proxy https-proxy-server:port "user-name:password"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM setx ftp_proxy ftp-proxy-server:port "user-name:password"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":http_proxy="),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://127.0.0.1:1080"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":https_proxy="),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":http_proxy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-batch line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-batch"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("netsh")]),s._v(" winhttp set proxy http://"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM netsh winhttp set proxy proxy-server:port "user-name:password"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("REM set bypass")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM netsh winhttp set proxy myproxyserver:8080 "localhost;mywebsite.com"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('REM netsh winhttp set proxy proxy-server="http=127.0.0.1:1080" bypass-list="localhost"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("REM show proxy")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("netsh")]),s._v(" winhttp show proxy")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("REM remove proxy")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token command"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("netsh")]),s._v(" winhttp reset proxy")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);