<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell | wx-notes</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/assets/img/favicon.png">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3129839_xft6cqs5gc.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://github.com/xugaoyi/vuepress-theme-vdoing"><style>.theme-vdoing-content { display:none }</noscript>
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.9d774b0a.css" as="style"><link rel="preload" href="/assets/js/app.d382a226.js" as="script"><link rel="preload" href="/assets/js/2.87a8012a.js" as="script"><link rel="preload" href="/assets/js/98.1032eb92.js" as="script"><link rel="prefetch" href="/assets/js/10.8cef245d.js"><link rel="prefetch" href="/assets/js/100.de0de5b3.js"><link rel="prefetch" href="/assets/js/101.e32bb2b9.js"><link rel="prefetch" href="/assets/js/102.0ef9f132.js"><link rel="prefetch" href="/assets/js/103.1914eb13.js"><link rel="prefetch" href="/assets/js/104.b12325e1.js"><link rel="prefetch" href="/assets/js/105.4f29b02d.js"><link rel="prefetch" href="/assets/js/106.902b14af.js"><link rel="prefetch" href="/assets/js/107.34461d9b.js"><link rel="prefetch" href="/assets/js/108.720097f0.js"><link rel="prefetch" href="/assets/js/109.ec66db5b.js"><link rel="prefetch" href="/assets/js/11.06117714.js"><link rel="prefetch" href="/assets/js/110.f767f523.js"><link rel="prefetch" href="/assets/js/111.bcfbfa02.js"><link rel="prefetch" href="/assets/js/112.d8df71d9.js"><link rel="prefetch" href="/assets/js/113.c9a6c922.js"><link rel="prefetch" href="/assets/js/114.3d85868d.js"><link rel="prefetch" href="/assets/js/115.993787ed.js"><link rel="prefetch" href="/assets/js/116.5bd70a45.js"><link rel="prefetch" href="/assets/js/117.7c5ea865.js"><link rel="prefetch" href="/assets/js/118.575c2813.js"><link rel="prefetch" href="/assets/js/119.eff9f6bc.js"><link rel="prefetch" href="/assets/js/12.801127a7.js"><link rel="prefetch" href="/assets/js/120.91de158c.js"><link rel="prefetch" href="/assets/js/121.860d400f.js"><link rel="prefetch" href="/assets/js/122.954d04cd.js"><link rel="prefetch" href="/assets/js/123.5b3e835d.js"><link rel="prefetch" href="/assets/js/124.ec79fba8.js"><link rel="prefetch" href="/assets/js/125.1bbba1d0.js"><link rel="prefetch" href="/assets/js/126.5e7fded7.js"><link rel="prefetch" href="/assets/js/127.e43dfbff.js"><link rel="prefetch" href="/assets/js/128.cef089b9.js"><link rel="prefetch" href="/assets/js/129.326be7ae.js"><link rel="prefetch" href="/assets/js/13.35b92c07.js"><link rel="prefetch" href="/assets/js/130.7cca68b6.js"><link rel="prefetch" href="/assets/js/131.c7695993.js"><link rel="prefetch" href="/assets/js/132.66f9eb75.js"><link rel="prefetch" href="/assets/js/133.499ff9d6.js"><link rel="prefetch" href="/assets/js/134.2f1548d7.js"><link rel="prefetch" href="/assets/js/135.a0e10d3e.js"><link rel="prefetch" href="/assets/js/136.92a270c5.js"><link rel="prefetch" href="/assets/js/137.5b0ac09e.js"><link rel="prefetch" href="/assets/js/138.21de847d.js"><link rel="prefetch" href="/assets/js/139.c058c237.js"><link rel="prefetch" href="/assets/js/14.91560b85.js"><link rel="prefetch" href="/assets/js/140.93275f57.js"><link rel="prefetch" href="/assets/js/141.6c6df578.js"><link rel="prefetch" href="/assets/js/142.16de5023.js"><link rel="prefetch" href="/assets/js/143.6e03e08c.js"><link rel="prefetch" href="/assets/js/144.592bb4ed.js"><link rel="prefetch" href="/assets/js/145.b7bdadcc.js"><link rel="prefetch" href="/assets/js/146.a18f49a0.js"><link rel="prefetch" href="/assets/js/147.dced2ea6.js"><link rel="prefetch" href="/assets/js/148.e06ea4d7.js"><link rel="prefetch" href="/assets/js/149.ac95d564.js"><link rel="prefetch" href="/assets/js/15.4606cb23.js"><link rel="prefetch" href="/assets/js/150.c9e28f94.js"><link rel="prefetch" href="/assets/js/151.a1997c81.js"><link rel="prefetch" href="/assets/js/152.3d479903.js"><link rel="prefetch" href="/assets/js/153.3073c76d.js"><link rel="prefetch" href="/assets/js/154.3bcbee0f.js"><link rel="prefetch" href="/assets/js/155.9dddaff4.js"><link rel="prefetch" href="/assets/js/156.f376855e.js"><link rel="prefetch" href="/assets/js/157.9eb774bc.js"><link rel="prefetch" href="/assets/js/158.44ee8e16.js"><link rel="prefetch" href="/assets/js/159.390af831.js"><link rel="prefetch" href="/assets/js/16.9bcf78d7.js"><link rel="prefetch" href="/assets/js/160.e9a320f2.js"><link rel="prefetch" href="/assets/js/161.2c70b400.js"><link rel="prefetch" href="/assets/js/162.363decbd.js"><link rel="prefetch" href="/assets/js/163.3ce1e512.js"><link rel="prefetch" href="/assets/js/164.e9313d92.js"><link rel="prefetch" href="/assets/js/165.1eb8d002.js"><link rel="prefetch" href="/assets/js/166.ab22eb15.js"><link rel="prefetch" href="/assets/js/167.b000f630.js"><link rel="prefetch" href="/assets/js/168.f25a631c.js"><link rel="prefetch" href="/assets/js/169.b7129356.js"><link rel="prefetch" href="/assets/js/17.0e700bd5.js"><link rel="prefetch" href="/assets/js/170.323672ca.js"><link rel="prefetch" href="/assets/js/171.49820adb.js"><link rel="prefetch" href="/assets/js/172.5367dfe3.js"><link rel="prefetch" href="/assets/js/173.87ce95d1.js"><link rel="prefetch" href="/assets/js/174.4733aac2.js"><link rel="prefetch" href="/assets/js/175.4c8b426b.js"><link rel="prefetch" href="/assets/js/176.34060d5c.js"><link rel="prefetch" href="/assets/js/177.d0404722.js"><link rel="prefetch" href="/assets/js/178.1a46b01f.js"><link rel="prefetch" href="/assets/js/179.9fcc84b5.js"><link rel="prefetch" href="/assets/js/18.d1fcff83.js"><link rel="prefetch" href="/assets/js/180.bdfedfa3.js"><link rel="prefetch" href="/assets/js/181.47e6d26e.js"><link rel="prefetch" href="/assets/js/182.2d878f03.js"><link rel="prefetch" href="/assets/js/183.7e9aace3.js"><link rel="prefetch" href="/assets/js/184.2eff2189.js"><link rel="prefetch" href="/assets/js/185.ba9aab94.js"><link rel="prefetch" href="/assets/js/186.93016b73.js"><link rel="prefetch" href="/assets/js/187.a617b993.js"><link rel="prefetch" href="/assets/js/188.2d5a02f4.js"><link rel="prefetch" href="/assets/js/189.939a191f.js"><link rel="prefetch" href="/assets/js/19.b636a521.js"><link rel="prefetch" href="/assets/js/190.bbbd77c8.js"><link rel="prefetch" href="/assets/js/191.3d110f91.js"><link rel="prefetch" href="/assets/js/192.61fab52d.js"><link rel="prefetch" href="/assets/js/193.07e8db8d.js"><link rel="prefetch" href="/assets/js/194.86983a62.js"><link rel="prefetch" href="/assets/js/195.ea852b80.js"><link rel="prefetch" href="/assets/js/196.f3f47585.js"><link rel="prefetch" href="/assets/js/197.67c354ba.js"><link rel="prefetch" href="/assets/js/198.561b321e.js"><link rel="prefetch" href="/assets/js/199.e25381a9.js"><link rel="prefetch" href="/assets/js/20.3be87fb7.js"><link rel="prefetch" href="/assets/js/200.010ba3c5.js"><link rel="prefetch" href="/assets/js/201.67ac619d.js"><link rel="prefetch" href="/assets/js/202.f09ce2ad.js"><link rel="prefetch" href="/assets/js/203.65d725b4.js"><link rel="prefetch" href="/assets/js/204.f3447d91.js"><link rel="prefetch" href="/assets/js/205.1f095751.js"><link rel="prefetch" href="/assets/js/206.d932f379.js"><link rel="prefetch" href="/assets/js/207.f1b07592.js"><link rel="prefetch" href="/assets/js/208.ae8c6256.js"><link rel="prefetch" href="/assets/js/209.35180e8c.js"><link rel="prefetch" href="/assets/js/21.49934eb6.js"><link rel="prefetch" href="/assets/js/210.2c20b67d.js"><link rel="prefetch" href="/assets/js/211.b6b9d090.js"><link rel="prefetch" href="/assets/js/212.9aabd8b9.js"><link rel="prefetch" href="/assets/js/213.af591f91.js"><link rel="prefetch" href="/assets/js/214.243220ba.js"><link rel="prefetch" href="/assets/js/215.91918129.js"><link rel="prefetch" href="/assets/js/216.d778718b.js"><link rel="prefetch" href="/assets/js/217.dac38162.js"><link rel="prefetch" href="/assets/js/218.3ad31069.js"><link rel="prefetch" href="/assets/js/219.9197a62a.js"><link rel="prefetch" href="/assets/js/22.a7d6a9eb.js"><link rel="prefetch" href="/assets/js/220.bbd7b124.js"><link rel="prefetch" href="/assets/js/221.0efe0337.js"><link rel="prefetch" href="/assets/js/222.700049fd.js"><link rel="prefetch" href="/assets/js/223.46405e41.js"><link rel="prefetch" href="/assets/js/224.6e350c81.js"><link rel="prefetch" href="/assets/js/225.1993613f.js"><link rel="prefetch" href="/assets/js/226.acb60b10.js"><link rel="prefetch" href="/assets/js/227.5c29d8d9.js"><link rel="prefetch" href="/assets/js/228.f2fa7cf9.js"><link rel="prefetch" href="/assets/js/229.ee960944.js"><link rel="prefetch" href="/assets/js/23.5400645b.js"><link rel="prefetch" href="/assets/js/230.068b06bc.js"><link rel="prefetch" href="/assets/js/231.34d85795.js"><link rel="prefetch" href="/assets/js/232.163f77c8.js"><link rel="prefetch" href="/assets/js/233.245df212.js"><link rel="prefetch" href="/assets/js/234.b889ca13.js"><link rel="prefetch" href="/assets/js/235.f8a222af.js"><link rel="prefetch" href="/assets/js/236.9741ba00.js"><link rel="prefetch" href="/assets/js/237.5cb51cf1.js"><link rel="prefetch" href="/assets/js/238.c7b8dbd4.js"><link rel="prefetch" href="/assets/js/239.a74a4736.js"><link rel="prefetch" href="/assets/js/24.854a29ed.js"><link rel="prefetch" href="/assets/js/240.3c8801b3.js"><link rel="prefetch" href="/assets/js/241.1930e71a.js"><link rel="prefetch" href="/assets/js/242.31d76505.js"><link rel="prefetch" href="/assets/js/243.36c52617.js"><link rel="prefetch" href="/assets/js/244.4adc8887.js"><link rel="prefetch" href="/assets/js/245.f221ffd4.js"><link rel="prefetch" href="/assets/js/246.03b3149d.js"><link rel="prefetch" href="/assets/js/247.cb26f1ac.js"><link rel="prefetch" href="/assets/js/248.e0b76f15.js"><link rel="prefetch" href="/assets/js/249.cde39b0c.js"><link rel="prefetch" href="/assets/js/25.d429e2ad.js"><link rel="prefetch" href="/assets/js/250.30e7e869.js"><link rel="prefetch" href="/assets/js/251.b14e683b.js"><link rel="prefetch" href="/assets/js/252.5a2a17bb.js"><link rel="prefetch" href="/assets/js/253.64575468.js"><link rel="prefetch" href="/assets/js/254.5ee1d4b0.js"><link rel="prefetch" href="/assets/js/255.a701e12c.js"><link rel="prefetch" href="/assets/js/256.205df8b5.js"><link rel="prefetch" href="/assets/js/257.62941e39.js"><link rel="prefetch" href="/assets/js/258.82c01d6a.js"><link rel="prefetch" href="/assets/js/259.74f3d1a1.js"><link rel="prefetch" href="/assets/js/26.3716f14a.js"><link rel="prefetch" href="/assets/js/260.a07fea6f.js"><link rel="prefetch" href="/assets/js/261.0e9cc558.js"><link rel="prefetch" href="/assets/js/262.8e381643.js"><link rel="prefetch" href="/assets/js/263.1da50740.js"><link rel="prefetch" href="/assets/js/264.3201225f.js"><link rel="prefetch" href="/assets/js/265.778e81a2.js"><link rel="prefetch" href="/assets/js/266.6fc8c8f2.js"><link rel="prefetch" href="/assets/js/267.6058e70a.js"><link rel="prefetch" href="/assets/js/268.90728fbe.js"><link rel="prefetch" href="/assets/js/269.57a1b247.js"><link rel="prefetch" href="/assets/js/27.90a02103.js"><link rel="prefetch" href="/assets/js/270.e1fbaf15.js"><link rel="prefetch" href="/assets/js/271.67bd6fa1.js"><link rel="prefetch" href="/assets/js/272.324204c9.js"><link rel="prefetch" href="/assets/js/273.3d723913.js"><link rel="prefetch" href="/assets/js/274.34e0cc99.js"><link rel="prefetch" href="/assets/js/275.c7b6a30a.js"><link rel="prefetch" href="/assets/js/276.4475ed4a.js"><link rel="prefetch" href="/assets/js/277.108044d1.js"><link rel="prefetch" href="/assets/js/278.dc6f0fad.js"><link rel="prefetch" href="/assets/js/279.c2c6595a.js"><link rel="prefetch" href="/assets/js/28.7d19fe1e.js"><link rel="prefetch" href="/assets/js/280.00b3a96f.js"><link rel="prefetch" href="/assets/js/281.35218fe6.js"><link rel="prefetch" href="/assets/js/282.833aa9a1.js"><link rel="prefetch" href="/assets/js/283.b854e98d.js"><link rel="prefetch" href="/assets/js/284.55390ee5.js"><link rel="prefetch" href="/assets/js/285.e60c8473.js"><link rel="prefetch" href="/assets/js/286.1fb42b39.js"><link rel="prefetch" href="/assets/js/287.76d416c4.js"><link rel="prefetch" href="/assets/js/288.cc30790d.js"><link rel="prefetch" href="/assets/js/289.fead2fdb.js"><link rel="prefetch" href="/assets/js/29.7eeb3de4.js"><link rel="prefetch" href="/assets/js/290.06e7dd5c.js"><link rel="prefetch" href="/assets/js/291.a073502f.js"><link rel="prefetch" href="/assets/js/292.ee597491.js"><link rel="prefetch" href="/assets/js/293.b55cd65c.js"><link rel="prefetch" href="/assets/js/294.ee3bbd54.js"><link rel="prefetch" href="/assets/js/295.5e680082.js"><link rel="prefetch" href="/assets/js/296.cc18faac.js"><link rel="prefetch" href="/assets/js/297.c421a612.js"><link rel="prefetch" href="/assets/js/298.01889782.js"><link rel="prefetch" href="/assets/js/299.2c4c2cb2.js"><link rel="prefetch" href="/assets/js/3.14f582e8.js"><link rel="prefetch" href="/assets/js/30.cba82c26.js"><link rel="prefetch" href="/assets/js/300.14aa1fc0.js"><link rel="prefetch" href="/assets/js/301.85d64cdf.js"><link rel="prefetch" href="/assets/js/302.e2815e7f.js"><link rel="prefetch" href="/assets/js/303.98c1febb.js"><link rel="prefetch" href="/assets/js/304.50df0bb2.js"><link rel="prefetch" href="/assets/js/305.41b537b2.js"><link rel="prefetch" href="/assets/js/306.40fc4ca0.js"><link rel="prefetch" href="/assets/js/307.e7f1fd37.js"><link rel="prefetch" href="/assets/js/308.9c019000.js"><link rel="prefetch" href="/assets/js/309.932890cc.js"><link rel="prefetch" href="/assets/js/31.09ae525c.js"><link rel="prefetch" href="/assets/js/310.4ee417ea.js"><link rel="prefetch" href="/assets/js/311.bb2655cc.js"><link rel="prefetch" href="/assets/js/312.8448f772.js"><link rel="prefetch" href="/assets/js/313.1cc95dd2.js"><link rel="prefetch" href="/assets/js/314.a0e4ce60.js"><link rel="prefetch" href="/assets/js/315.92099df1.js"><link rel="prefetch" href="/assets/js/316.4ccce55e.js"><link rel="prefetch" href="/assets/js/317.de8cc4ad.js"><link rel="prefetch" href="/assets/js/318.475f44de.js"><link rel="prefetch" href="/assets/js/319.f4f8a31f.js"><link rel="prefetch" href="/assets/js/32.cf5672f3.js"><link rel="prefetch" href="/assets/js/320.64cbd076.js"><link rel="prefetch" href="/assets/js/321.77581796.js"><link rel="prefetch" href="/assets/js/322.9fa19651.js"><link rel="prefetch" href="/assets/js/323.8dc23ccd.js"><link rel="prefetch" href="/assets/js/324.00d7ed12.js"><link rel="prefetch" href="/assets/js/325.0e9f380d.js"><link rel="prefetch" href="/assets/js/326.95883d38.js"><link rel="prefetch" href="/assets/js/327.b0415db7.js"><link rel="prefetch" href="/assets/js/328.89746536.js"><link rel="prefetch" href="/assets/js/329.c1a43c4d.js"><link rel="prefetch" href="/assets/js/33.a7f5ab01.js"><link rel="prefetch" href="/assets/js/330.9ddac96b.js"><link rel="prefetch" href="/assets/js/331.9d697ac8.js"><link rel="prefetch" href="/assets/js/332.6ee28795.js"><link rel="prefetch" href="/assets/js/333.170f7a62.js"><link rel="prefetch" href="/assets/js/334.cb9d727c.js"><link rel="prefetch" href="/assets/js/335.8a3b74f8.js"><link rel="prefetch" href="/assets/js/336.8c897ca1.js"><link rel="prefetch" href="/assets/js/34.0361ed84.js"><link rel="prefetch" href="/assets/js/35.7944f93a.js"><link rel="prefetch" href="/assets/js/36.cb553688.js"><link rel="prefetch" href="/assets/js/37.06e9f182.js"><link rel="prefetch" href="/assets/js/38.2472ee7f.js"><link rel="prefetch" href="/assets/js/39.82eca662.js"><link rel="prefetch" href="/assets/js/4.837e9ea1.js"><link rel="prefetch" href="/assets/js/40.022ad8aa.js"><link rel="prefetch" href="/assets/js/41.821fb36a.js"><link rel="prefetch" href="/assets/js/42.180ab912.js"><link rel="prefetch" href="/assets/js/43.d9375ce1.js"><link rel="prefetch" href="/assets/js/44.d212f8b3.js"><link rel="prefetch" href="/assets/js/45.ba520f2b.js"><link rel="prefetch" href="/assets/js/46.5447129c.js"><link rel="prefetch" href="/assets/js/47.3e3fdc9a.js"><link rel="prefetch" href="/assets/js/48.d96c69a1.js"><link rel="prefetch" href="/assets/js/49.96ac804b.js"><link rel="prefetch" href="/assets/js/5.94383f14.js"><link rel="prefetch" href="/assets/js/50.ff732aa7.js"><link rel="prefetch" href="/assets/js/51.cafabf54.js"><link rel="prefetch" href="/assets/js/52.8cbc09b9.js"><link rel="prefetch" href="/assets/js/53.7bc1ec87.js"><link rel="prefetch" href="/assets/js/54.45d36044.js"><link rel="prefetch" href="/assets/js/55.e7192e85.js"><link rel="prefetch" href="/assets/js/56.711184df.js"><link rel="prefetch" href="/assets/js/57.a617b81c.js"><link rel="prefetch" href="/assets/js/58.176a088e.js"><link rel="prefetch" href="/assets/js/59.41c6b746.js"><link rel="prefetch" href="/assets/js/6.2bd98a80.js"><link rel="prefetch" href="/assets/js/60.a9ad50e8.js"><link rel="prefetch" href="/assets/js/61.4d205bfa.js"><link rel="prefetch" href="/assets/js/62.ecefe86d.js"><link rel="prefetch" href="/assets/js/63.d3924f46.js"><link rel="prefetch" href="/assets/js/64.40f6beaf.js"><link rel="prefetch" href="/assets/js/65.001bcc37.js"><link rel="prefetch" href="/assets/js/66.f281aa40.js"><link rel="prefetch" href="/assets/js/67.4bd2ef0c.js"><link rel="prefetch" href="/assets/js/68.9ff84d3d.js"><link rel="prefetch" href="/assets/js/69.e21e77b0.js"><link rel="prefetch" href="/assets/js/7.f2ae7930.js"><link rel="prefetch" href="/assets/js/70.8715f006.js"><link rel="prefetch" href="/assets/js/71.0804d179.js"><link rel="prefetch" href="/assets/js/72.d47a4a99.js"><link rel="prefetch" href="/assets/js/73.a72ed2e1.js"><link rel="prefetch" href="/assets/js/74.bf813865.js"><link rel="prefetch" href="/assets/js/75.0f9354a3.js"><link rel="prefetch" href="/assets/js/76.521fe63b.js"><link rel="prefetch" href="/assets/js/77.da026e66.js"><link rel="prefetch" href="/assets/js/78.caf4ae61.js"><link rel="prefetch" href="/assets/js/79.0ca61053.js"><link rel="prefetch" href="/assets/js/8.bf1039e7.js"><link rel="prefetch" href="/assets/js/80.cd005ed5.js"><link rel="prefetch" href="/assets/js/81.6d9c7fc6.js"><link rel="prefetch" href="/assets/js/82.e90bac88.js"><link rel="prefetch" href="/assets/js/83.63b5d58f.js"><link rel="prefetch" href="/assets/js/84.6d112559.js"><link rel="prefetch" href="/assets/js/85.fb99dd6c.js"><link rel="prefetch" href="/assets/js/86.dde3c192.js"><link rel="prefetch" href="/assets/js/87.b011c014.js"><link rel="prefetch" href="/assets/js/88.493b12c1.js"><link rel="prefetch" href="/assets/js/89.c2e431ec.js"><link rel="prefetch" href="/assets/js/9.b42343bd.js"><link rel="prefetch" href="/assets/js/90.eecd1598.js"><link rel="prefetch" href="/assets/js/91.74f45fff.js"><link rel="prefetch" href="/assets/js/92.ea554734.js"><link rel="prefetch" href="/assets/js/93.aefaca74.js"><link rel="prefetch" href="/assets/js/94.9d983301.js"><link rel="prefetch" href="/assets/js/95.13a41e26.js"><link rel="prefetch" href="/assets/js/96.92799e4e.js"><link rel="prefetch" href="/assets/js/97.dc0873a3.js"><link rel="prefetch" href="/assets/js/99.b28f8efa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d774b0a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">wx-notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pages/948095/" class="nav-link">Top</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="BE" class="dropdown-title"><a href="/backend/" class="link-title">BE</a> <span class="title" style="display:none;">BE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0a3d16/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/907e2d/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/f1ea5b/" class="nav-link">Go</a></li><li class="dropdown-item"><!----> <a href="/pages/ee7ace/" class="nav-link">Framework</a></li><li class="dropdown-item"><!----> <a href="/pages/f1fcc1/" class="nav-link">Database</a></li><li class="dropdown-item"><!----> <a href="/pages/ab7fe2/" class="nav-link">MessageMiddleware</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><a href="/frontend/" class="link-title">FE</a> <span class="title" style="display:none;">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0767c1/" class="nav-link">FE Docs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><a href="/more/" class="link-title">More</a> <span class="title" style="display:none;">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/6f7935/" class="nav-link">OperatingSystem</a></li><li class="dropdown-item"><!----> <a href="/pages/570625/" class="nav-link">Container</a></li><li class="dropdown-item"><!----> <a href="/pages/b5bf02/" class="nav-link">DevOps</a></li><li class="dropdown-item"><!----> <a href="/pages/3e0468/" class="nav-link">WebServer</a></li><li class="dropdown-item"><!----> <a href="/pages/5c5daa/" class="nav-link">Cloud</a></li><li class="dropdown-item"><!----> <a href="/pages/49864f/" class="nav-link">GPT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><a href="/others/" class="link-title">Others</a> <span class="title" style="display:none;">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b95cf8/" class="nav-link">PackageManager</a></li><li class="dropdown-item"><!----> <a href="/pages/6a8a1c/" class="nav-link">TestTool</a></li><li class="dropdown-item"><!----> <a href="/pages/8ca6e0/" class="nav-link">EditorAndIDE</a></li><li class="dropdown-item"><!----> <a href="/pages/b95cf8/" class="nav-link">CommandLineTool</a></li><li class="dropdown-item"><!----> <a href="/pages/ccee87/" class="nav-link">Browser</a></li><li class="dropdown-item"><!----> <a href="/pages/a9d7d6/" class="nav-link">Articles</a></li><li class="dropdown-item"><!----> <a href="/pages/9d47df/" class="nav-link">Others</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Index" class="dropdown-title"><a href="/archives/" class="link-title">Index</a> <span class="title" style="display:none;">Index</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div> <a href="https://github.com/dlwxin/wx-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://dlwang.xin:11796/image/avatar/avatar03-small.jpg"> <div class="blogger-info"><h3>wx</h3> <span>Tomorrow is always fresh, with no mistakes in it.</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/pages/948095/" class="nav-link">Top</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="BE" class="dropdown-title"><a href="/backend/" class="link-title">BE</a> <span class="title" style="display:none;">BE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0a3d16/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/907e2d/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/f1ea5b/" class="nav-link">Go</a></li><li class="dropdown-item"><!----> <a href="/pages/ee7ace/" class="nav-link">Framework</a></li><li class="dropdown-item"><!----> <a href="/pages/f1fcc1/" class="nav-link">Database</a></li><li class="dropdown-item"><!----> <a href="/pages/ab7fe2/" class="nav-link">MessageMiddleware</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><a href="/frontend/" class="link-title">FE</a> <span class="title" style="display:none;">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0767c1/" class="nav-link">FE Docs</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><a href="/more/" class="link-title">More</a> <span class="title" style="display:none;">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/6f7935/" class="nav-link">OperatingSystem</a></li><li class="dropdown-item"><!----> <a href="/pages/570625/" class="nav-link">Container</a></li><li class="dropdown-item"><!----> <a href="/pages/b5bf02/" class="nav-link">DevOps</a></li><li class="dropdown-item"><!----> <a href="/pages/3e0468/" class="nav-link">WebServer</a></li><li class="dropdown-item"><!----> <a href="/pages/5c5daa/" class="nav-link">Cloud</a></li><li class="dropdown-item"><!----> <a href="/pages/49864f/" class="nav-link">GPT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others" class="dropdown-title"><a href="/others/" class="link-title">Others</a> <span class="title" style="display:none;">Others</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b95cf8/" class="nav-link">PackageManager</a></li><li class="dropdown-item"><!----> <a href="/pages/6a8a1c/" class="nav-link">TestTool</a></li><li class="dropdown-item"><!----> <a href="/pages/8ca6e0/" class="nav-link">EditorAndIDE</a></li><li class="dropdown-item"><!----> <a href="/pages/b95cf8/" class="nav-link">CommandLineTool</a></li><li class="dropdown-item"><!----> <a href="/pages/ccee87/" class="nav-link">Browser</a></li><li class="dropdown-item"><!----> <a href="/pages/a9d7d6/" class="nav-link">Articles</a></li><li class="dropdown-item"><!----> <a href="/pages/9d47df/" class="nav-link">Others</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Index" class="dropdown-title"><a href="/archives/" class="link-title">Index</a> <span class="title" style="display:none;">Index</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">Categories</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">Tags</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">Archives</a></li></ul></div></div> <a href="https://github.com/dlwxin/wx-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OperatingSystem</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/6f7935/" class="sidebar-link">Linux</a></li><li><a href="/pages/1d457b/" class="sidebar-link">Create Bash Aliases</a></li><li><a href="/pages/908265/" class="sidebar-link">Linux common commamds</a></li><li><a href="/pages/74c82e/" class="sidebar-link">Linux Command find</a></li><li><a href="/pages/3b0abd/" class="sidebar-link">Linux Commands about user</a></li><li><a href="/pages/5baabb/" class="sidebar-link">Linux Commands scp and ftp</a></li><li><a href="/pages/73a157/" class="sidebar-link">Linux Command diff</a></li><li><a href="/pages/dcb1cd/" class="sidebar-link">Linux packaging and compression</a></li><li><a href="/pages/955dc3/" class="sidebar-link">Linux Vim text editor</a></li><li><a href="/pages/75c92e/" class="sidebar-link">Linux File Permissions</a></li><li><a href="/pages/d8d782/" class="sidebar-link">Linux Command dmidecode</a></li><li><a href="/pages/759582/" class="sidebar-link">Linux Command expect</a></li><li><a href="/pages/0b86b1/" class="sidebar-link">Linux Commands df and du</a></li><li><a href="/pages/1b05e3/" class="sidebar-link">Linux Run SCP SSH Without Password</a></li><li><a href="/pages/fa4788/" class="sidebar-link">Linux common question</a></li><li><a href="/pages/68f2bf/" aria-current="page" class="active sidebar-link">Shell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-的含义" class="sidebar-link">Shell 的含义</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-的种类" class="sidebar-link">Shell 的种类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#查看当前运行的-shell" class="sidebar-link">查看当前运行的 Shell</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#查看当前的-linux-系统安装的所有-shell" class="sidebar-link">查看当前的 Linux 系统安装的所有 Shell</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#查看当前系统默认的-shell" class="sidebar-link">查看当前系统默认的 shell</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#查看-bash-版本" class="sidebar-link">查看 bash 版本</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#命令行环境" class="sidebar-link">命令行环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#命令行提示符" class="sidebar-link">命令行提示符</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#进入和退出方法" class="sidebar-link">进入和退出方法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#bash-常用快捷键及其作用" class="sidebar-link">Bash 常用快捷键及其作用</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#command" class="sidebar-link">command</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#echo" class="sidebar-link">echo</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#history" class="sidebar-link">history</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#alias" class="sidebar-link">alias</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#cut" class="sidebar-link">cut</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#printf" class="sidebar-link">printf</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-shift-命令" class="sidebar-link">shell shift 命令</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-source-命令" class="sidebar-link">shell source 命令</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#bash-命令自动补全操作详解" class="sidebar-link">Bash 命令自动补全操作详解</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-bash-多命令顺序执行" class="sidebar-link">Shell（Bash）多命令顺序执行</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-通配符" class="sidebar-link">Shell 通配符</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#单引号、双引号和反引号" class="sidebar-link">单引号、双引号和反引号</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#小括号和大括号用法及区别" class="sidebar-link">小括号和大括号用法及区别</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-bash-变量" class="sidebar-link">Shell（Bash）变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#定义规范" class="sidebar-link">定义规范</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#变量查看" class="sidebar-link">变量查看</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#变量删除-unset" class="sidebar-link">变量删除 unset</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-数值运算方法" class="sidebar-link">Shell 数值运算方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#使用-declare-声明变量类型" class="sidebar-link">使用 declare 声明变量类型</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#使用-expr-或-let-数值运算工具" class="sidebar-link">使用 expr 或 let 数值运算工具</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#使用-运算式-或-运算式-方式运算" class="sidebar-link">使用$((运算式))或$[运算式]方式运算</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-常用运算符" class="sidebar-link">Shell 常用运算符</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-元字符-正则表达式" class="sidebar-link">shell 元字符(正则表达式)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#基础元字符" class="sidebar-link">基础元字符</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#扩展元字符" class="sidebar-link">扩展元字符</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-脚本" class="sidebar-link">shell 脚本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#脚本的命名" class="sidebar-link">脚本的命名</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#脚本的执行方式" class="sidebar-link">脚本的执行方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shebang-行" class="sidebar-link">Shebang 行</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#命令解释权" class="sidebar-link">命令解释权#!</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#命令执行结果" class="sidebar-link">命令执行结果</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-if-条件判断语句" class="sidebar-link">Shell if 条件判断语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#单分支-if-条件语句" class="sidebar-link">单分支 if 条件语句</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#双分支条件语句" class="sidebar-link">双分支条件语句</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#多分支-if-条件语句" class="sidebar-link">多分支 if 条件语句</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-case-语句" class="sidebar-link">Shell case 语句</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-循环" class="sidebar-link">Shell 循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#for-循环" class="sidebar-link">for 循环</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-while-循环" class="sidebar-link">Shell while 循环</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#shell-until" class="sidebar-link">Shell until</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-函数" class="sidebar-link">Shell 函数</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-exit-流程控制语句" class="sidebar-link">Shell exit 流程控制语句</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-break-和-continue-循环控制语句" class="sidebar-link">Shell break 和 continue 循环控制语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#break-语句" class="sidebar-link">break 语句</a></li><li class="sidebar-sub-header level3"><a href="/pages/68f2bf/#continue-语句" class="sidebar-link">continue 语句</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#各种符号" class="sidebar-link">$各种符号</a></li><li class="sidebar-sub-header level2"><a href="/pages/68f2bf/#shell-中变量的间接引用" class="sidebar-link">shell 中变量的间接引用</a></li></ul></li><li><a href="/pages/ea121a/" class="sidebar-link">Shell Command sed</a></li><li><a href="/pages/cd6b1f/" class="sidebar-link">Shell Command test</a></li><li><a href="/pages/d664f6/" class="sidebar-link">Shell Command awk</a></li><li><a href="/pages/ac2689/" class="sidebar-link">Shell Command grep</a></li><li><a href="/pages/1677f0/" class="sidebar-link">Shell Input Output Redirection</a></li><li><a href="/pages/6e998d/" class="sidebar-link">Shell string interception</a></li><li><a href="/pages/151885/" class="sidebar-link">Shell Auto Completion</a></li><li><a href="/pages/84a54b/" class="sidebar-link">Shell reading content line by line</a></li><li><a href="/pages/dd1ecd/" class="sidebar-link">Shell Array and Map</a></li><li><a href="/pages/f46d1b/" class="sidebar-link">Shell script examples</a></li><li><a href="/pages/044c59/" class="sidebar-link">Shell Chore</a></li><li><a href="/pages/368de5/" class="sidebar-link">Linux interview question</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Windows</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>MacOS</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Container</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WebServer</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GPT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Cloud</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-057748f7><div class="articleInfo" data-v-057748f7><ul class="breadcrumbs" data-v-057748f7><li data-v-057748f7><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-057748f7></a></li> <li data-v-057748f7><a href="/more/#More" data-v-057748f7>More</a></li><li data-v-057748f7><a href="/more/#OperatingSystem" data-v-057748f7>OperatingSystem</a></li><li data-v-057748f7><a href="/more/#Linux" data-v-057748f7>Linux</a></li></ul> <div class="info" data-v-057748f7><div title="作者" class="author iconfont icon-touxiang" data-v-057748f7><a href="https://github.com/dlwxin/wx-notes" target="_blank" title="作者" class="beLink" data-v-057748f7>wx</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-057748f7><a href="javascript:;" data-v-057748f7>2020-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><!---->Shell<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="shell-的含义"><a href="#shell-的含义" class="header-anchor">#</a> Shell 的含义</h2> <p><code>Shell</code> 这个单词的原意是<code>外壳</code>，跟 <code>kernel</code>（内核）相对应，比喻内核外面的一层，即用户跟内核交互的对话界面。</p> <p>具体来说，Shell 这个词有多种含义。</p> <ul><li><p>Shell 是一个程序，提供一个与用户对话的环境。这个环境只有一个命令提示符，让用户从键盘输入命令，所以又称为命令行环境（commandline，简写为 CLI）。Shell 接收到用户输入的命令，将命令送入操作系统执行，并将结果返回给用户。</p></li> <li><p>Shell 是一个命令解释器，解释用户输入的命令。它支持变量、条件判断、循环操作等语法，所以用户可以用 Shell 命令写出各种小程序，又称为脚本（script）。这些脚本都通过 Shell 的解释执行，而不通过编译。</p></li> <li><p>Shell 是一个工具箱，提供了各种小工具，供用户方便地使用操作系统的功能。</p></li></ul> <h2 id="shell-的种类"><a href="#shell-的种类" class="header-anchor">#</a> Shell 的种类</h2> <p>Shell 有很多种，只要能给用户提供命令行环境的程序，都可以看作是 Shell。</p> <p>历史上，主要的 Shell 有下面这些。</p> <ul><li>Bourne Shell（sh）</li> <li>Bourne Again shell（bash）</li> <li>C Shell（csh）</li> <li>TENEX C Shell（tcsh）</li> <li>Korn shell（ksh）</li> <li>Z Shell（zsh）</li> <li>Friendly Interactive Shell（fish）</li></ul> <p>Bash 是目前最常用的 Shell</p> <h3 id="查看当前运行的-shell"><a href="#查看当前运行的-shell" class="header-anchor">#</a> 查看当前运行的 Shell</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$SHELL</span>
/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="查看当前的-linux-系统安装的所有-shell"><a href="#查看当前的-linux-系统安装的所有-shell" class="header-anchor">#</a> 查看当前的 Linux 系统安装的所有 Shell</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">cat</span> /etc/shells
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看当前系统默认的-shell"><a href="#查看当前系统默认的-shell" class="header-anchor">#</a> 查看当前系统默认的 shell</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
-bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="查看-bash-版本"><a href="#查看-bash-版本" class="header-anchor">#</a> 查看 bash 版本</h3> <p>可以通过<code>bash</code>命令的<code>--version</code>参数或者环境变量<code>$BASH_VERSION</code>，查看本机的 Bash 版本。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">bash</span> --version
GNU bash, version <span class="token number">4.4</span>.23<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>-release <span class="token punctuation">(</span>x86_64-pc-msys<span class="token punctuation">)</span>

<span class="token comment"># 或者</span>
$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$BASH_VERSION</span>
<span class="token number">4.4</span>.23<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>-release
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>Linux 允许每个用户使用不同的 Shell，用户的默认 Shell 一般都是 Bash，或者与 Bash 兼容。</p></blockquote> <h2 id="命令行环境"><a href="#命令行环境" class="header-anchor">#</a> 命令行环境</h2> <h3 id="命令行提示符"><a href="#命令行提示符" class="header-anchor">#</a> 命令行提示符</h3> <p>进入命令行环境以后，用户会看到 Shell 的提示符。提示符往往是一串前缀，最后以一个美元符号<code>$</code>结尾，用户可以在这个符号后面输入各种命令。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>user@hostname<span class="token punctuation">]</span> $
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面例子中，完整的提示符是<code>[user@hostname] $</code>，其中前缀是用户名<code>user</code>加上<code>@</code>，再加主机名<code>hostname</code>。比如，用户名是<code>bill</code>，主机名是<code>home-machine</code>，前缀就是<code>bill@home-machine</code>。</p> <p>NB: <code>root</code> 用户的提示符，不以<code>$</code>结尾，而以<code>#</code>结尾，用来提醒用户，现在具有根权限，可以执行各种操作，务必小心，不要出现误操作。这个符号是可以自己定义的。</p> <h3 id="进入和退出方法"><a href="#进入和退出方法" class="header-anchor">#</a> 进入和退出方法</h3> <p>进入命令行环境以后，一般就已经打开 Bash 了。如果你的 Shell 不是 Bash，可以输入<code>bash</code>命令启动 Bash。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">bash</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>退出 Bash 环境，可以使用<code>exit</code>命令，或者按<code>Ctrl + d</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="bash-常用快捷键及其作用"><a href="#bash-常用快捷键及其作用" class="header-anchor">#</a> Bash 常用快捷键及其作用</h2> <table><thead><tr><th style="text-align:left;">快捷键</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;">Ctrl+A</td> <td style="text-align:left;">把光标移动到命令行开头。</td></tr> <tr><td style="text-align:left;">Ctrl+E</td> <td style="text-align:left;">把光标移动到命令行结尾</td></tr> <tr><td style="text-align:left;">Ctrl+C</td> <td style="text-align:left;">强制中止当前的命令</td></tr> <tr><td style="text-align:left;">Ctrl+L</td> <td style="text-align:left;">淸屏，相当于 clear 命令</td></tr> <tr><td style="text-align:left;">Ctrl+U</td> <td style="text-align:left;">刪除或剪切光标之前的命令。</td></tr> <tr><td style="text-align:left;">Ctrl+K</td> <td style="text-align:left;">删除或剪切光标之后的内容</td></tr> <tr><td style="text-align:left;">Ctrl+Y</td> <td style="text-align:left;">粘贴 Ctrl+U 或 Ctrl+K 剪切的内容</td></tr> <tr><td style="text-align:left;">Ctrl+R</td> <td style="text-align:left;">在历史命令中搜索，</td></tr> <tr><td style="text-align:left;">Ctrl+D</td> <td style="text-align:left;">退出当前终端</td></tr> <tr><td style="text-align:left;">Ctrl+Z</td> <td style="text-align:left;">暂停，并放入后台。</td></tr> <tr><td style="text-align:left;">Ctrl+S</td> <td style="text-align:left;">暂停屏幕输出</td></tr> <tr><td style="text-align:left;">Ctrl+Q</td> <td style="text-align:left;">恢复屏幕输出</td></tr></tbody></table> <h2 id="command"><a href="#command" class="header-anchor">#</a> command</h2> <h3 id="echo"><a href="#echo" class="header-anchor">#</a> echo</h3> <ol><li><p>命令格式
$ echo [选项][输出内容]</p></li> <li><p>选项：
-e：支持反斜线控制的字符转换（
-n：取消输出后行末的换行符号（内容输出后不换行）</p></li></ol> <table><thead><tr><th style="text-align:left;">控制字符</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>\\</code></td> <td style="text-align:left;">输出\本身</td></tr> <tr><td style="text-align:left;">\a</td> <td style="text-align:left;">输出警告音</td></tr> <tr><td style="text-align:left;">\b</td> <td style="text-align:left;">退格键，也就是向左删除键</td></tr> <tr><td style="text-align:left;">\c</td> <td style="text-align:left;">取消输出行末的换行符。和“-n”选项一致</td></tr> <tr><td style="text-align:left;">\e</td> <td style="text-align:left;">Esc 键</td></tr> <tr><td style="text-align:left;">\f</td> <td style="text-align:left;">换页符</td></tr> <tr><td style="text-align:left;">\n</td> <td style="text-align:left;">换行符</td></tr> <tr><td style="text-align:left;">\r</td> <td style="text-align:left;">回车键</td></tr> <tr><td style="text-align:left;">\t</td> <td style="text-align:left;">制表符，也就是 Tab 键</td></tr> <tr><td style="text-align:left;">\v</td> <td style="text-align:left;">垂直制表符</td></tr> <tr><td style="text-align:left;">\Onnn</td> <td style="text-align:left;">按照八进制 ASCII 码表输出字符。其中 0 为数字 0，nnn 是三位八进制数</td></tr> <tr><td style="text-align:left;">\xhh</td> <td style="text-align:left;">按照十六进制 ASCH 码表输出字符。其中 hh 是两位十六进制数</td></tr></tbody></table> <h4 id="example-1"><a href="#example-1" class="header-anchor">#</a> Example 1:</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host temp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World&quot;</span>
Hello World
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example 2:</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host temp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;Hello World&quot;</span>
Hello World<span class="token punctuation">[</span>test@host temp<span class="token punctuation">]</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example 3</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host temp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\\">\\</span> <span class="token entity" title="\a">\a</span>&quot;</span>
<span class="token punctuation">\</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example 4</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 在远程机器发出警告声音</span>
<span class="token comment"># 需要 root 权限</span>
<span class="token punctuation">[</span>test@host temp<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">su</span> -
<span class="token punctuation">[</span>root@host temp<span class="token punctuation">]</span><span class="token comment"># echo -en &quot;\a&quot; &gt; /dev/tty5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example 5</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> -n <span class="token string">&quot;Hello World&quot;</span> <span class="token operator">|</span> base64
<span class="token assign-left variable">SGVsbG8gV29ybGQ</span><span class="token operator">=</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">&quot;SGVsbG8gV29ybGQ=&quot;</span> <span class="token operator">|</span> base64 -d
Hello World
<span class="token function">cat</span> file.txt <span class="token operator">|</span> base64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="history"><a href="#history" class="header-anchor">#</a> history</h3> <ol><li>命令格式:</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">history</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>历史命令保存文件<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>选项：</li></ol> <ul><li>-c：清空历史命令；</li> <li>-w：把缓存中的历史命令写入历史命令保存文件中。如果不手工指定历史命令保存文件，则放入默认历史命令
保存文件 ~/.bash_history 中；</li></ul> <ol start="3"><li>历史命令的调用</li></ol> <ul><li>使用上、下箭头调用以前的历史命令。</li> <li>使用&quot;!n&quot;重复执行第 n 条历史命令。</li> <li>使用&quot;!!&quot;重复执行上一条命令。</li> <li>使用&quot;！字符串&quot;重复执行最后一条以该字符串开头的命令。</li> <li>使用&quot;!$&quot;重复上一条命令的最后一个参数。</li></ul> <h3 id="alias"><a href="#alias" class="header-anchor">#</a> alias</h3> <ol><li>命令格式：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># alias</span>
<span class="token comment"># 查询命令别名</span>
<span class="token punctuation">[</span>root@1ocalhost ~<span class="token punctuation">]</span> <span class="token comment"># alias 别名='原命令'</span>
<span class="token comment"># 设定命令别名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>命令执行时的顺序：
<ul><li>第一顺位执行用绝对路径或相对路径执行的命令。</li> <li>第二顺位执行别名。</li> <li>第三顺位执行 Bash 的内部命令。</li> <li>第四顺位执行按照 $PATH 环境变量定义的目录査找的第一条命令。</li></ul></li></ol> <h3 id="cut"><a href="#cut" class="header-anchor">#</a> cut</h3> <p>可以把 cut 成为字段提取命令</p> <ol><li><p>命令格式：
[root@localhost ~]# cut [选项] 文件名</p></li> <li><p>选项：</p></li></ol> <ul><li>-f 列号：提取第几列；</li> <li>-d 分隔符：按照指定分隔符分割列；</li> <li>-c 字符范围：不依赖分隔符来区分列，而是通过字符范围（行首为 0）来进行字段提取。&quot;n-&quot;表示从第 n 个字符到行尾；&quot;n-m&quot;表示从第 n 个字符到第 m 个字符；&quot;-m&quot;表示从第 1 个字符到第 m 个字符；</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>cut 命令的默认分隔符是制表符，也就是 Tab 键</p></div> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi student.txt</span>
ID Name gender Mark
<span class="token number">1</span> Liming M <span class="token number">86</span>
<span class="token number">2</span> Sc M <span class="token number">90</span>
<span class="token number">3</span> Gao M <span class="token number">83</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cut -f 2 student.txt</span>
<span class="token comment"># 提取第二列的内容</span>
Name
Liming
Sc
Gao

<span class="token comment"># 提取多列，将列号直接用&quot;,&quot;隔开</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cut -f 2,3 student.txt</span>
<span class="token comment"># 提取第二列和第三列的内容</span>
Name gender
Liming M
Sc M
Gao M

<span class="token comment"># cut 命令可以按照字符进行提取。需要注意的是，&quot;8-&quot;代表提取所有行从第 8 个字符到行尾，而&quot;10-20&quot;代表</span>
<span class="token comment"># 提取所有行的第 10~20 个字符，而&quot;-8&quot;代表提取所有行从行首到第 8 个字符，命令如下：</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#cut-c 8- student.txt</span>
<span class="token comment"># 提取取每行从第8个字符到行尾，好像很乱啊，那是因为每行的字符个数不相等</span>
gender Mark
g M <span class="token number">86</span>
<span class="token number">90</span>
<span class="token number">83</span>

<span class="token comment"># cut 命令也可以手工指定分隔符。例如，我想看看当前 Linux 服务器中有哪些用户、这些用户的 UID 是什么，</span>
<span class="token comment"># 就可以这样操作：</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cut -d &quot;:&quot; -f 1,3 /etc/passwd</span>
<span class="token comment"># 以&quot;:&quot;作为分隔符，提取/etc/passwd文件的第一列和第三列</span>
root:0
bin:1
daemon:2
adm:3
lp:4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">cat</span> test.log
01-15 <span class="token number">16</span>:49:02.433 E/ActivityManager<span class="token punctuation">(</span> <span class="token number">2466</span><span class="token punctuation">)</span>: -com.android.mms: <span class="token number">0</span>% <span class="token operator">=</span> <span class="token number">0</span>% user + <span class="token number">0</span>% kernel
01-15 <span class="token number">16</span>:49:02.433 E/ActivityManager<span class="token punctuation">(</span> <span class="token number">2466</span><span class="token punctuation">)</span>: -flush-179:8: <span class="token number">0</span>% <span class="token operator">=</span> <span class="token number">0</span>% user + <span class="token number">0</span>% kernel
01-15 <span class="token number">16</span>:49:02.433 E/ActivityManager<span class="token punctuation">(</span> <span class="token number">2466</span><span class="token punctuation">)</span>: TOTAL: <span class="token number">25</span>% <span class="token operator">=</span> <span class="token number">10</span>% user + <span class="token number">14</span>% kernel + <span class="token number">0</span>% iowait + <span class="token number">0</span>% irq + <span class="token number">0</span>% softirq
$
$ <span class="token function">grep</span> TOTAL test.log <span class="token operator">|</span> <span class="token function">cut</span> -c -19,45-
01-15 <span class="token number">16</span>:49:02.433  TOTAL: <span class="token number">25</span>% <span class="token operator">=</span> <span class="token number">10</span>% user + <span class="token number">14</span>% kernel + <span class="token number">0</span>% iowait + <span class="token number">0</span>% irq + <span class="token number">0</span>% softirq
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="printf"><a href="#printf" class="header-anchor">#</a> printf</h3> <p><code>printf</code> 是 <code>awk</code> 的重要格式化输出命令
在 <code>awk</code> 中可以识别 <code>print</code> 输出动作和 <code>printf</code> 输出动作（区别是：<code>print</code> 会在每个输出之后自动加入一个换行符；而 <code>printf</code> 是标准格式输出命令，并不会自动加入换行符，如果需要换行，则需要手工加入换行符），但是在 Bash 中只能识别标准格式化输出命令 <code>printf</code>。</p> <ol><li>printf 命令格式：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">printf</span> <span class="token string">'输出类型输出格式'</span> 输出内容
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>输出类型：</li></ol> <ul><li>%ns：输出字符串。n 是数字，指代输出几个字符；</li> <li>%ni：输出整数。n 是数字，指代输出几个数字‘’</li> <li>%m.nf: 输出浮点数。m 和 n 是数字，指代输出的整数位数和小数位数。如 %8.2f 代表共输出 8 位数，其中 2 位是小数，6 位是整数；</li></ul> <ol start="3"><li>输出格式：</li></ol> <ul><li>\a： 输出警告声音；</li> <li>\b：输出退格键，也就是 <code>Backspaced</code> 键；</li> <li>\f：清除屏幕；</li> <li>\n：换行；</li> <li>\r：回车，也就是 <code>Enter</code> 键；</li> <li>\t：水平输出退格键，也就是 <code>Tab</code> 键；</li> <li>\v：垂直输出退格键，也就是 <code>Tab</code> 键；</li></ul> <p>Example 1:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># printf '%s\t %s\t %s\t %s\t %s\t %s\t\n' $(cat student.txt)</span>
<span class="token comment"># 注意：在printf命令的单引号中只能识别格式输出符号，而手工输入的空格是无效的</span>
ID Name PHP Linux MySQL Average
<span class="token number">1</span> Liming <span class="token number">82</span> <span class="token number">95</span> <span class="token number">86</span> <span class="token number">87.66</span>
<span class="token number">2</span> Sc <span class="token number">74</span> <span class="token number">96</span> <span class="token number">87</span> <span class="token number">85.66</span>
<span class="token number">3</span> Gao <span class="token number">99</span> <span class="token number">83</span> <span class="token number">93</span> <span class="token number">91.66</span>

<span class="token comment"># 文档有6列，所以使用 6 个&quot;%s&quot;代表这 6 列字符串，每个字符串之间用&quot;\t&quot;分隔；最后还要加入&quot;\n&quot;，</span>
<span class="token comment"># 使得每行输出都换行，否则这些数据还是会连成一行的。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Example 1: 把成绩当成字符串输出，而是按照整型和浮点型输出</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># printf '%i\t %s\t %i\t %i\t %i\t %8.2f\t\n'\</span>
<span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> student.txt <span class="token operator">|</span> <span class="token function">grep</span> -v Name<span class="token variable">)</span></span>
<span class="token number">1</span> Liming <span class="token number">82</span> <span class="token number">95</span> <span class="token number">86</span> <span class="token number">87.66</span>
<span class="token number">2</span> Sc <span class="token number">74</span> <span class="token number">96</span> <span class="token number">87</span> <span class="token number">85.66</span>
<span class="token number">3</span> Gao <span class="token number">99</span> <span class="token number">83</span> <span class="token number">93</span> <span class="token number">91.66</span>

<span class="token comment"># &quot;cat student.txt|grep -v Name&quot;这条命令。这条命令会把第一行标题取消，剩余的内容才用 printf 格式</span>
<span class="token comment"># 化输出。在剩余的内容中，第 1、3、4、5 列为整型，所以用&quot;%i&quot;输出；而第 2 列是字符串，所以用&quot;%s&quot;输</span>
<span class="token comment"># 出；而第 6 列是小数，所以用&quot;%8.2f&quot;输出。&quot;%8.2f&quot;代表可以输出 8 位数，其中有 2 位是小数，有 6 位是整数。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="shell-shift-命令"><a href="#shell-shift-命令" class="header-anchor">#</a> shell shift 命令</h3> <p><code>shift</code>命令可以改变脚本参数，每次执行都会移除脚本当前的第一个参数<code>$1</code>，使得后面的参数向前一位，即<code>$2</code>变成<code>$1</code>、<code>$3</code>变成<code>$2</code>、<code>$4</code>变成<code>$3</code>，以此类推。</p> <p><code>while</code>循环结合<code>shift</code>命令，也可以读取每一个参数。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;一共输入了 <span class="token variable">$#</span> 个参数&quot;</span>

<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;剩下 <span class="token variable">$#</span> 个参数&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;参数：<span class="token variable">$1</span>&quot;</span>
  <span class="token builtin class-name">shift</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上面例子中，<code>shift</code>命令每次移除当前第一个参数，从而通过<code>while</code>循环遍历所有参数。</p> <p><code>shift</code>命令可以接受一个整数作为参数，指定所要移除的参数个数，默认为<code>1</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">shift</span> <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的命令移除前三个参数，原来的<code>$4</code>变成<code>$1</code>。</p> <h3 id="shell-source-命令"><a href="#shell-source-命令" class="header-anchor">#</a> shell source 命令</h3> <p><code>source</code>命令用于执行一个脚本，通常用于重新加载一个配置文件。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">source</span> .bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>source</code>命令最大的特点是在当前 Shell 执行脚本，不像直接执行脚本时，会新建一个子 Shell。所以，<code>source</code>命令执行脚本时，不需要<code>export</code>变量。</p> <p>新建一个 test.sh</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># test.sh</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面脚本用来输出<code>$foo</code>变量的值。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 当前 Shell 新建一个变量 foo</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 打印输出 1</span>
$ <span class="token builtin class-name">source</span> test.sh
<span class="token number">1</span>

<span class="token comment"># 打印输出空字符串</span>
$ <span class="token function">bash</span> test.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>上面例子中，当前 Shell 的变量<code>foo</code>并没有<code>export</code>，所以直接执行无法读取，但是<code>source</code>执行可以读取。</p> <p><code>source</code>命令的另一个用途，是在脚本内部加载外部库。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">source</span> ./lib.sh

function_from_lib
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面脚本在内部使用<code>source</code>命令加载了一个外部库，然后就可以在脚本里面，使用这个外部库定义的函数。</p> <p><code>source</code>有一个简写形式，可以使用一个点<code>.</code>来表示。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">.</span> .bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="bash-命令自动补全操作详解"><a href="#bash-命令自动补全操作详解" class="header-anchor">#</a> Bash 命令自动补全操作详解</h3> <p>在 Bash 中，命令与文件补全是非常方便与常用的功能，我们只要在输入命令或文件时按 Tab，就会自动进行补全。</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <p>想要知道以 user 开头的命令有多少，就可以执行以下操作：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># user</span>
<span class="token comment"># 输入user,按Tab键,如果以user开头的只有一条命令，就会不全这条命令</span>
<span class="token comment"># 如果以user开头的有多条命令，则只要按两次Tab键，就会列出所有以user开头的命令</span>
<span class="token function">useradd</span> <span class="token function">userdel</span> userhelper <span class="token function">usermod</span> usemetctl <span class="token function">users</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="shell-bash-多命令顺序执行"><a href="#shell-bash-多命令顺序执行" class="header-anchor">#</a> Shell（Bash）多命令顺序执行</h3> <p>多命令顺序执行的方法</p> <table><thead><tr><th style="text-align:left;">多命令执行符</th> <th style="text-align:left;">格 式</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;">；</td> <td style="text-align:left;">命令 1 ; 命令 2</td> <td style="text-align:left;">多条命令顺序执行，命令之间没有任何逻辑关系</td></tr> <tr><td style="text-align:left;">&amp;&amp;</td> <td style="text-align:left;">命令 1 &amp;&amp; 命令 2</td> <td style="text-align:left;">如果命令 1 正确执行（$?=0)，则命令 2 才会执行</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">如果命令 1 执行不正确（$?≠0)，则命令 2 不会执行</td></tr> <tr><td style="text-align:left;">II</td> <td style="text-align:left;">命令 1 | |命令 2</td> <td style="text-align:left;">如果命令 1 执行不正确（$?≠0)，则命令 2 才会执行</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">如果命令 1 正确执行（$?=0)，则命令 2 不会执行</td></tr></tbody></table> <p>如果使用&quot;;&quot;连接多条命令，那么这些命令会一次执行，但是各命令之间没有任何逻辑关系，也就是说，不论哪条命令报错了，后面的命令仍会依次执行。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">pwd</span><span class="token punctuation">;</span><span class="token builtin class-name">cd</span> kkq<span class="token punctuation">;</span>ll
/home/wx/linuxLearn/tmp
-bash: cd: kkq: No such <span class="token function">file</span> or directory
total <span class="token number">8</span>
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">28</span> Dec <span class="token number">27</span> <span class="token number">14</span>:38 err.log
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">29</span> Dec <span class="token number">27</span> <span class="token number">14</span>:37 out.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="shell-通配符"><a href="#shell-通配符" class="header-anchor">#</a> Shell 通配符</h2> <table><thead><tr><th style="text-align:left;">通配符</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;">?</td> <td style="text-align:left;">匹配一个任意字符</td></tr> <tr><td style="text-align:left;">*</td> <td style="text-align:left;">匹配 0 个或任意多个任意字符</td></tr> <tr><td style="text-align:left;">[]</td> <td style="text-align:left;">匹配中括号中任意一个字符</td></tr> <tr><td style="text-align:left;">[-]</td> <td style="text-align:left;">匹配中括号中任意一个字符，- 代表一个范围。例如，[a-z] 代表匹配一个小写字母</td></tr> <tr><td style="text-align:left;">[^]</td> <td style="text-align:left;">逻辑非，表示匹配不是中括号内的一个字符。例如，[^0-9] 代表匹配一个不是数字的字符</td></tr></tbody></table> <p>E.g 1:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ <span class="token function">touch</span> english math <span class="token function">history</span>
<span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ ll *
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">21</span>:58 english
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">21</span>:58 <span class="token function">history</span>
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">21</span>:58 math
<span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ ll ?ath
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">21</span>:58 math
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>E.g 1:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ <span class="token function">touch</span> 11QA java
<span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ ll <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>*
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">22</span>:01 11QA
<span class="token punctuation">[</span>test@host wx1<span class="token punctuation">]</span>$ ll *<span class="token punctuation">[</span>^0-9<span class="token punctuation">]</span>
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">22</span>:01 11QA
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">22</span>:01 java
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="单引号、双引号和反引号"><a href="#单引号、双引号和反引号" class="header-anchor">#</a> 单引号、双引号和反引号</h2> <ul><li>被单引号括起来的字符都是普通字符，就算特殊字符也不再有特殊含义；</li> <li>被双引号括起来的字符中，<code>&quot;$&quot;</code>、<code>&quot;\&quot;</code>和反引号是拥有特殊含义的，<code>&quot;$&quot;</code>代表引用变量的值，</li> <li>反引号代表引用命令。</li></ul> <p>E.g:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># name=sc</span>
<span class="token comment"># 定义变量name的值是sc</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo '$name'</span>
<span class="token variable">$name</span>
<span class="token comment"># 如果输出时使用单引号，则$name原封不动地输出</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;$name&quot;</span>
sc
<span class="token comment"># 如果输出时使用双引号，则会输出变量name的值sc</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo `date`</span>
<span class="token number">2013</span> <span class="token number">10</span>月 <span class="token number">21</span> 日星期一 <span class="token number">18</span>:16:33 CST
<span class="token comment"># 反引号的命令会正常执行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo '`date`'</span>
<span class="token string">'date'</span>
<span class="token comment"># 但是如果反引号括起来的命令又被单引号括起来，那么这条命令不会执行，`date`会被当成普通字符输出</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;`date`&quot;</span>
<span class="token number">2013</span>年 <span class="token number">10</span>月 <span class="token number">21</span> 日星期一 <span class="token number">18</span>:14:21 CST
<span class="token comment"># 如果被双引号括起来，那么这条命令又会正常执行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>反引号</p> <ul><li>如果需要调用命令的输出，或把命令的输出赋予变量，则命令必须使用反引号包含，这条命令才会执行，</li> <li>反引号的作用和 $(命令) 是一样的</li></ul> <p>E.g 1:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#如果命令不用反引号包含，那么命令不会执行，而是直接输出</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo ls</span>
<span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>E.g 2:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost -<span class="token punctuation">]</span><span class="token comment"># echo `ls`</span>
anaconda-ks.cfg install.log install.log.syslog <span class="token function">sh</span> <span class="token builtin class-name">test</span> testfile
<span class="token comment"># 只有用反引号包含命令，这条命令才会执行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $(date)</span>
<span class="token number">2013</span>年 <span class="token number">10</span>月 <span class="token number">21</span> 日 星期一 <span class="token number">18</span>:25:09 CST
<span class="token comment"># 使用用$(命令)的方式也是可以的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="小括号和大括号用法及区别"><a href="#小括号和大括号用法及区别" class="header-anchor">#</a> 小括号和大括号用法及区别</h2> <p>小括号和大括号主要区别在于：</p> <ul><li>() 执行一串命令时，需要重新开启一个子 Shell 来执行。</li> <li>{} 执行一串命令时，在当前 Shell 中执行。</li> <li>() 和 {} 都是把一串命令放田括号里面，并且命令之间用&quot;;&quot;隔开。</li> <li>() 最后一条命令可以不用分号。</li> <li>{} 最后一条命令要用分号。</li> <li>{} 的第一条命令和左括号之间必须有一个空格。</li> <li>() 里的各命令不必和括号有空格。</li> <li>() 和 {} 中括号里面的某条命令的重定向只影响该命令，但括号外的重定向则会影响到括号里的所有命令。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># name=sc #在父 Shell 中定义 name 的值是 sc</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># (name=liming;echo $name)</span>
liming
<span class="token comment"># 如果用()括起来一串命令，那么这些命令都可以执行</span>
<span class="token comment"># 给name变量重新赋值，但是这个值只在子Shell中</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $name</span>
sc
<span class="token comment"># 父Shell中name的值还是sc，而不是liming</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#{ name=liming;echo $name;} liming</span>
<span class="token comment"># 但是用大括号来进行一串命令的执行时，name变量的修改是直接在父Shell中进行的</span>
<span class="token comment"># 注意大括号的格式</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $name</span>
liming
<span class="token comment"># name变量的值已经被修改了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="shell-bash-变量"><a href="#shell-bash-变量" class="header-anchor">#</a> Shell（Bash）变量</h2> <h3 id="定义规范"><a href="#定义规范" class="header-anchor">#</a> 定义规范</h3> <ol><li><p>变量名可以由字母、数字和下画线组成，但是不能以数字开头。</p></li> <li><p>在 Bash 中，变量的默认类型都是字符串型，如果要进行数值运算，则必须指定变量类型为数值型</p></li></ol> <p>E.g 1:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># name=sc</span>
<span class="token comment"># 定义变量name的值</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $name</span>
sc
<span class="token comment"># 查询变量的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>E.g 2:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># aa=1+2</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $aa</span>
<span class="token number">1</span>+2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li><p>变量用等号<code>=</code>连接值，<code>=</code>左右两侧不能有空格。这是 Shell 语言特有的格式要求。在绝大多数的其他语言中，<code>=</code>左右
两侧是可以加入空格的。但是在 Shell 中命令的执行格式是<code>命令 [选项][参数]</code>，如果在<code>=</code>左右两侧加入空格，
那么 Linux 会误以为这是系统命令，是会报错的。</p></li> <li><p>变量值中如果有空格，则需要使用单引号或双引号包含，如 <code>test=&quot;hello world!&quot;</code>。双引号括起来的内容&quot;$&quot;和反引号
者都拥有特殊含义，而单引号括起来的内容都是普通字符。</p></li> <li><p>在变量值中，可以使用转义符<code>\</code>。</p></li> <li><p>如果需要増加变量值，那么可以进行变量叠加。</p></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#test=123</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#test=&quot;$test&quot;456</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $test</span>
<span class="token number">123456</span>
<span class="token comment"># 叠加变量test，变量值变成了123456</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#test=${test}789</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $test</span>
<span class="token number">123456789</span>
<span class="token comment"># 再叠加变量test，变量值变成了123456789</span>

<span class="token comment">## 变量叠加可以使用两种格式：&quot;$变量名&quot;或 ${变量名}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="7"><li>如果要把命令的执行结果作为变量值赋予变量，则需要使用反引号或 <code>$()</code> 包含命令</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># test=$(date)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $test</span>
<span class="token number">2013</span>年10月21日 星期一20:27:50 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="8"><li>环境变量名建议大写，便于区分。</li></ol> <h3 id="变量查看"><a href="#变量查看" class="header-anchor">#</a> 变量查看</h3> <ol><li><p><code>set</code>命令可以用来查看系统中的所有变量（用户自定义变量和环境变量）和设定 Shell 的执行环境</p></li> <li><p>命令格式：</p></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># set [选项]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>选项：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>-u：如果设定此选项，则在调用未声明的变量时会报错（默认无任何提示）；
-x：如果设定此选项，则在命令执行之前会先把命令输出一次；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># set</span>
<span class="token assign-left variable"><span class="token environment constant">BASH</span></span><span class="token operator">=</span>/bin/bash
<span class="token punctuation">..</span>.省略部分输出<span class="token punctuation">..</span>.
<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'C biancheng'</span>
<span class="token comment"># 直接使用set命令，会查询系统中所有的变量，包含用户自定义变量和环境变量</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># set -u</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $file</span>
-bash: file: unbound variable
<span class="token comment"># 当设置了-u选项后，如果调用没有设定的变量则会报错。默认是没有任何输出的</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># set -x</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
+ <span class="token function">ls</span> --color<span class="token operator">=</span>auto
anaconda-ks.cfg install.log install.log.syslog <span class="token function">sh</span> tdir <span class="token builtin class-name">test</span> testfile
<span class="token comment"># 如果设定了-x选项，则会在每条命令执行之前先把命令输出一次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="变量删除-unset"><a href="#变量删除-unset" class="header-anchor">#</a> 变量删除 unset</h3> <ol><li>命令格式：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# unset 变量名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">test</span><span class="token operator">=</span><span class="token string">&quot;20181228&quot;</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${test}</span>
<span class="token number">20181228</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">unset</span> <span class="token builtin class-name">test</span>
<span class="token comment"># 再查询变量，就会发现这个变量已经为空</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${test}</span>

<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="shell-数值运算方法"><a href="#shell-数值运算方法" class="header-anchor">#</a> Shell 数值运算方法</h2> <h3 id="使用-declare-声明变量类型"><a href="#使用-declare-声明变量类型" class="header-anchor">#</a> 使用 declare 声明变量类型</h3> <ol><li>命令格式：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare [+/-] [选项] 变量名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>选项：</li></ol> <ul><li>-：给变量设定类型属性；</li> <li>+：取消变量的类型属性；</li> <li>-a：将变量声明为数组型；</li> <li>-i：将变量声明为整数型（integer）；</li> <li>-r：将变量声明为只读变量。注意，一旦设置为只读变量，既不能修改变量的值，也不能删除变量，甚至不能通过 <code>+r</code> 取消只读属性；</li> <li>-x：将变量声明为环境变量；</li> <li>-p：显示指定变量的被声明的类型；</li></ul> <p>Example 1: 数值运算</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">bb</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">cc</span><span class="token operator">=</span><span class="token variable">${aa}</span>+<span class="token variable">${bb}</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${cc}</span>
<span class="token number">6</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Example 2: 数组变量类型</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>zhang1
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>zhang2
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ name<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>zhang3
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$name</span>
zhang1
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
zhang1 zhang2 zhang3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Example 3: 环境变量</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -x test=123</span>
<span class="token comment"># 把变量test声明为环境变量</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Example 4: 只读属性</p> <p>一旦给变量设定了只读属性，那么这个变量既不能修改变量的值，也不能删除变量，甚至不能使用<code>+r</code>选项取消只读属性。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -r test</span>
<span class="token comment"># 给test变量赋予只读属性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#test=456</span>
-bash：test: <span class="token builtin class-name">readonly</span> variable
<span class="token comment"># test变量的值就不能修改了</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare +r test</span>
-bash：declare：test：readonly variable
<span class="token comment"># 也不能取消只读属性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># unset test</span>
-bash: unset: test: cannot unset: <span class="token builtin class-name">readonly</span> variable
<span class="token comment"># 也不能删除变量</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Example 5: 查询变量属性和取消变量属性
变量属性的查询使用<code>-p</code>选项，变量属性的取消使用<code>+</code>选项</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -p cc</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">cc</span><span class="token operator">=</span><span class="token string">&quot;33&quot;</span>
<span class="token comment"># cc变量是int型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -p name</span>
<span class="token builtin class-name">declare</span> -a <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'([0]=&quot;zhang san&quot; [1]=&quot;li ming&quot; [2]=&quot;gao luo feng&quot;)'</span>
<span class="token comment"># name变量是数组型</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -p test</span>
<span class="token builtin class-name">declare</span> -rx <span class="token assign-left variable">test</span><span class="token operator">=</span><span class="token string">&quot;123&quot;</span>
<span class="token comment"># test变量是环境变量和只读变量</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare +x test</span>
<span class="token comment"># 取消test变量的环境变量属性</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># declare -p test</span>
declare-rtest<span class="token operator">=</span><span class="token string">&quot;123&quot;</span>
<span class="token comment"># 注意：只读变量属性是不能被取消的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="使用-expr-或-let-数值运算工具"><a href="#使用-expr-或-let-数值运算工具" class="header-anchor">#</a> 使用 expr 或 let 数值运算工具</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">30</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $a + $b<span class="token variable">)</span></span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">${sum}</span>
<span class="token number">50</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>在使用 <code>expr</code> 命令进行运算时，要注意<code>+</code>号左右两侧必须有空格，否则运算不执行。</p></div> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">15</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">30</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">let</span> <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable">$a</span>+<span class="token variable">$b</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$sum</span>
<span class="token number">45</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">let</span> <span class="token assign-left variable">sum</span><span class="token operator">+=</span><span class="token number">1</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$sum</span>
<span class="token number">46</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="使用-运算式-或-运算式-方式运算"><a href="#使用-运算式-或-运算式-方式运算" class="header-anchor">#</a> 使用<code>$((运算式))</code>或<code>$[运算式]</code>方式运算</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># aa=11</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># bb=22</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ff=$(( $aa+$bb))</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $ff</span>
<span class="token number">33</span>
<span class="token comment"># 变量ff的值是aa和bb的和</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gg=$[ $aa+$bb ]</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $gg</span>
<span class="token number">33</span>
<span class="token comment"># 变量gg的值是aa和bb的和</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="shell-常用运算符"><a href="#shell-常用运算符" class="header-anchor">#</a> Shell 常用运算符</h3> <table><thead><tr><th style="text-align:left;">优先级</th> <th style="text-align:left;">运算符</th> <th style="text-align:left;">说 明</th></tr></thead> <tbody><tr><td style="text-align:left;">13</td> <td style="text-align:left;">-,+</td> <td style="text-align:left;">单目负、单目正</td></tr> <tr><td style="text-align:left;">12</td> <td style="text-align:left;">!,~</td> <td style="text-align:left;">逻辑非、按位取反或补码</td></tr> <tr><td style="text-align:left;">11</td> <td style="text-align:left;">*, /, %</td> <td style="text-align:left;">乘、除、取模</td></tr> <tr><td style="text-align:left;">10</td> <td style="text-align:left;">+, -</td> <td style="text-align:left;">加、减</td></tr> <tr><td style="text-align:left;">9</td> <td style="text-align:left;">&lt;&lt;, &gt;&gt;</td> <td style="text-align:left;">按位左移、按位右移</td></tr> <tr><td style="text-align:left;">8</td> <td style="text-align:left;">&lt;=, &gt;=, &lt;, &gt;</td> <td style="text-align:left;">小于或等于、大于或等于、小于、大于</td></tr> <tr><td style="text-align:left;">7</td> <td style="text-align:left;">== ,!=</td> <td style="text-align:left;">等于、不等于</td></tr> <tr><td style="text-align:left;">6</td> <td style="text-align:left;">&amp;</td> <td style="text-align:left;">按位与</td></tr> <tr><td style="text-align:left;">S</td> <td style="text-align:left;">^</td> <td style="text-align:left;">按位异或</td></tr> <tr><td style="text-align:left;">4</td> <td style="text-align:left;">||</td> <td style="text-align:left;">按位或</td></tr> <tr><td style="text-align:left;">3</td> <td style="text-align:left;">&amp;&amp;</td> <td style="text-align:left;">逻辑与</td></tr> <tr><td style="text-align:left;">2</td> <td style="text-align:left;">II</td> <td style="text-align:left;">逻辑或</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">=,+=,•=，*=,/=,%= , &amp;=,|=, &lt;&lt;=, &gt;&gt;=</td> <td style="text-align:left;">赋值、运算且赋值</td></tr></tbody></table> <p>运算符优先级表明在每个表达式或子表达式中哪个运算对象首先被求值，数值越大优先级越高，具有较高优先级的运算符先于具有较低优先级的运算符进行求值运算</p> <p>Example 1: 加减乘除</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">3</span><span class="token variable">))</span></span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$aa</span>
<span class="token number">9</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Example 2: 取模运算</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token assign-left variable">mm</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span><span class="token number">11</span><span class="token operator">%</span><span class="token number">3</span><span class="token variable">))</span></span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$mm</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Example 3:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span><span class="token number">1</span><span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token number">2</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">%</span><span class="token number">7</span><span class="token variable">))</span></span><span class="token punctuation">)</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>逻辑与运算只有相与的两边都是 1，与的结果才是 1；否则与的结果是 0</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">V1</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">V2</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token builtin class-name">let</span> <span class="token assign-left variable">V3</span><span class="token operator">=</span><span class="token variable">$V1</span>+<span class="token variable">$V2</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$V3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token number">6</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span>$A<span class="token operator">+</span>$B<span class="token variable">))</span></span> <span class="token comment"># 方法 2</span>
<span class="token builtin class-name">echo</span> $<span class="token punctuation">[</span> <span class="token variable">$A</span>+<span class="token variable">$B</span> <span class="token punctuation">]</span>  <span class="token comment"># 方法 3</span>
<span class="token function">expr</span> <span class="token variable">$A</span> + <span class="token variable">$B</span>   <span class="token comment"># 方法 4</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$A</span>+<span class="token variable">$B</span> <span class="token operator">|</span> <span class="token function">bc</span> <span class="token comment"># 方法 5</span>
<span class="token function">awk</span> <span class="token string">'BEGIN{print '</span><span class="token string">&quot;<span class="token variable">$A</span>&quot;</span>'+<span class="token string">'&quot;$B&quot;'</span><span class="token punctuation">}</span>'  <span class="token comment"># 方法 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="shell-元字符-正则表达式"><a href="#shell-元字符-正则表达式" class="header-anchor">#</a> shell 元字符(正则表达式)</h2> <p>在正则表达式中，把用于匹配的特殊符号又称作元字符。在 Shell 中，元字符又分为基础元字符和扩展元字符。</p> <h3 id="基础元字符"><a href="#基础元字符" class="header-anchor">#</a> 基础元字符</h3> <table><thead><tr><th style="text-align:left;">元字符</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;">*</td> <td style="text-align:left;">前一个字符匹配 0 次或任意多次</td></tr> <tr><td style="text-align:left;">.</td> <td style="text-align:left;">匹配除换行符外的任意一个字符</td></tr> <tr><td style="text-align:left;">^</td> <td style="text-align:left;">匹配行首。例如，^hello 会匹配以 hello 开头的行</td></tr> <tr><td style="text-align:left;">$</td> <td style="text-align:left;">匹配行尾。例如，hello&amp; 会匹配以 hello 结尾的行</td></tr> <tr><td style="text-align:left;">[]</td> <td style="text-align:left;">匹配屮柄号屮指定的任意一个字符，而且只匹配一个字符。例如.[aoeiu]匹配任意一个元音字母，[0-9] 匹配任意一位数字，[a-z][0-9] 匹配由小写字母和一位数字构成的两位字符</td></tr> <tr><td style="text-align:left;">[^]</td> <td style="text-align:left;">匹配除中括号中的字符以外的任意一个字符。例如，[^0-9] 匹配任意一位非数字字符，[^a-z]</td></tr> <tr><td style="text-align:left;">\</td> <td style="text-align:left;">转义符，用于取消特殊符号的含义</td></tr> <tr><td style="text-align:left;">{n}</td> <td style="text-align:left;">表示其前面的字符恰好出现 n 次。例如，[0-9]\{4\} 匹配 4 位数字，[1][3-8][0-9]{9} 匹配手机号码</td></tr> <tr><td style="text-align:left;">\(n,\}</td> <td style="text-align:left;">表示其前面的字符出现不少于 n 次。例如，[0-9]\{2,\} 匹配两位及以上的数字</td></tr> <tr><td style="text-align:left;">\{n,m\}</td> <td style="text-align:left;">表示其前面的字符至少出现 n 次，最多出现 m 次。例如，[a-z]\{6,8\} 匹配 6〜8 位的小写字母</td></tr></tbody></table> <h3 id="扩展元字符"><a href="#扩展元字符" class="header-anchor">#</a> 扩展元字符</h3> <table><thead><tr><th style="text-align:left;">扩展元字符</th> <th style="text-align:left;">作 用</th></tr></thead> <tbody><tr><td style="text-align:left;">+</td> <td style="text-align:left;">前一个字符匹配 1 次或任意多次。 如“go+gle”会匹配“gogle” “google”或“gooogle”。当然，如果“o”有更多个，则也能匹配</td></tr> <tr><td style="text-align:left;">?</td> <td style="text-align:left;">前一个字符匹配 0 次或 1 次。如 “colou?r” 可以匹配 “colour” 或 “color”</td></tr> <tr><td style="text-align:left;">|</td> <td style="text-align:left;">匹配两个或多个分支选择。 如“was</td></tr> <tr><td style="text-align:left;">()</td> <td style="text-align:left;">匹配其整体为一个字符，即模式单元。可以理解为由多个单个字符组成的大字符。 如“(dog)+”会匹配“dog” “dogdog” “dogdogdog”等，因为被()包含的字符会被当成 一个整体。但 “hello(world | earth)” 会匹配 “hello world” 及 “hello earth”</td></tr></tbody></table> <h2 id="shell-脚本"><a href="#shell-脚本" class="header-anchor">#</a> shell 脚本</h2> <h3 id="脚本的命名"><a href="#脚本的命名" class="header-anchor">#</a> 脚本的命名</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看当前系统默认的shell</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
-bash
<span class="token comment"># 查看用户自己默认的shell</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$SHELL</span>
/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>脚本的命名一般有两种情况</p> <ul><li>是以<code>.sh</code> 结尾的，通常代表了这是一个脚本文件</li> <li>是不带<code>.sh</code> 的也可以表示一个脚本，只是直观上不能识别出来</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>Linux 下一切皆文件，文件的后缀没有实际意义，写后缀只是为了让人能更直观的识别这个文件</p></div> <h3 id="脚本的执行方式"><a href="#脚本的执行方式" class="header-anchor">#</a> 脚本的执行方式</h3> <ul><li><code>sh shelltest</code></li> <li><code>./shelltest</code></li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>两种执行方式的权限控制不一样。</p></div> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ ll
total <span class="token number">36</span>
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span> <span class="token number">30434</span> Dec <span class="token number">27</span> <span class="token number">21</span>:04 OneHundredYearsOfSolitude.txt
-rw-r--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span>     <span class="token number">0</span> Dec <span class="token number">27</span> <span class="token number">21</span>:08 speech
-rwxr--r--. <span class="token number">1</span> wx <span class="token builtin class-name">test</span>    <span class="token number">90</span> Dec <span class="token number">28</span> 09:27 test.sh
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ ./test.sh
hello world
<span class="token number">123</span>
<span class="token number">123</span>
<span class="token punctuation">[</span>test@host tmp<span class="token punctuation">]</span>$ <span class="token function">sh</span> test.sh
hello world
<span class="token number">123</span>
<span class="token number">123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="shebang-行"><a href="#shebang-行" class="header-anchor">#</a> Shebang 行</h3> <p>脚本的第一行通常是指定解释器，即这个脚本必须通过什么解释器执行。这一行以<code>#!</code>字符开头，这个字符称为 Shebang，所以这一行就叫做 Shebang 行。</p> <p><code>#!</code>后面就是脚本解释器的位置，Bash 脚本的解释器一般是<code>/bin/sh</code>或<code>/bin/bash</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token comment"># 或者</span>
<span class="token comment">#!/bin/bash</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>#!</code>与脚本解释器之间有没有空格，都是可以的。</p></blockquote> <p>Shebang 行不是必需的，但是建议加上这行。如果缺少该行，就需要手动将脚本传给解释器。举例来说，脚本是<code>script.sh</code>，有 Shebang 行的时候，可以直接调用执行。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ ./script.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果没有 Shebang 行，就只能手动将脚本传给解释器来执行。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ /bin/sh ./script.sh
<span class="token comment"># 或者</span>
$ <span class="token function">bash</span> ./script.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="命令解释权"><a href="#命令解释权" class="header-anchor">#</a> 命令解释权#!</h3> <p>Bash Shell 脚本的第一行以 <code>#!</code> 开头，表示文件是可执行的脚本, 后面的路径是命令解释器，也就是用来执行脚本的程序，由于 Bash Shell 将由 Bash Shell 解释，因此这么开头的 <code>#!/bin/bash</code></p> <h3 id="命令执行结果"><a href="#命令执行结果" class="header-anchor">#</a> 命令执行结果</h3> <p>命令执行结束后，会有一个返回值。<code>0</code>表示执行成功，非<code>0</code>（通常是<code>1</code>）表示执行失败。环境变量<code>$?</code>可以读取前一个命令的返回值。</p> <p>利用这一点，可以在脚本中对命令执行结果进行判断。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> <span class="token variable">$some_directory</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$?</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">rm</span> *
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;无法切换目录！&quot;</span> <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token file-descriptor important">&amp;2</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>由于<code>if</code>可以直接判断命令的执行结果，执行相应的操作，上面的脚本可以改写成下面的样子。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token builtin class-name">cd</span> <span class="token variable">$some_directory</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">rm</span> *
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Could not change directory! Aborting.&quot;</span> <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token file-descriptor important">&amp;2</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>更简洁的写法是利用两个逻辑运算符<code>&amp;&amp;</code>和<code>||</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 第一步执行成功，才会执行第二步</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$some_directory</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> *

<span class="token comment"># 第一步执行失败，才会执行第二步</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$some_directory</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="shell-if-条件判断语句"><a href="#shell-if-条件判断语句" class="header-anchor">#</a> Shell if 条件判断语句</h2> <h3 id="单分支-if-条件语句"><a href="#单分支-if-条件语句" class="header-anchor">#</a> 单分支 if 条件语句</h3> <p>语法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>if [条件判断式];then
程序
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>if [条件判断式]
then
程序
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$var</span> -eq <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Var is 1&quot;</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Var is not 1&quot;</span><span class="token punctuation">;</span> <span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在使用单分支 <code>if</code> 条件查询时需要注意几点：</p> <ol><li><code>if</code> 语句使用 <code>fi</code> 结尾，和一般语言使用大括号结尾不同。</li> <li><code>[条件判断式]</code> 就是使用 <code>test</code> 命令判断，所以中括号和条件判断式之间必须有空格。</li> <li>then 后面跟符合条件之后执行的程序，可以放在 <code>[]</code> 之后，用<code>;</code>分隔；也可以换行写入，就不需要<code>;</code>了，</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># check total size</span>
$ <span class="token function">df</span> -h /
Filesystem                           Size  Used Avail Use% Mounted on
/dev/mapper/vg_li8260895230-lv_root  457G   36G  422G   <span class="token number">8</span>% /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
<span class="token comment">#查看一下服务器的分区状况</span>
文件系统 容量 已用 可用 已用％ %挂载点
/dev/sda3 20G <span class="token number">1</span>.8G 17G <span class="token number">10</span>% /
tmpfs 306M <span class="token number">0</span> 306M <span class="token number">0</span>% /dev/shm
/dev/sda1 194M 26M 158M <span class="token number">15</span>% /boot
/dev/srO <span class="token number">3</span>.5G <span class="token number">3</span>.5G 0100% /mnt/cdrom
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi sh/if1.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment">#统计根分区的使用率</span>
<span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">df</span> -h <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;/dev/sda3&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $5}'</span> <span class="token operator">|</span> <span class="token function">cut</span> -d<span class="token string">&quot;%&quot;</span>-f1<span class="token variable">)</span></span>
<span class="token comment">#把根分区使用率作为变量值赋予变量rate</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$rate</span> -ge <span class="token number">80</span> <span class="token punctuation">]</span>
<span class="token comment">#判断rate的值，如果大于等于80,则执行then程序</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Warning! /dev/sda3 is full!!&quot;</span>
<span class="token comment">#打印警告信息</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>其实这个脚本最主要的地方是<code>rate=$(df-h|grep &quot;/dev/sda3&quot;|awk'{print$5}'|cut-d&quot;%&quot;-f1)</code>这条命令，我们来分析一下这条命令：先使用<code>df-h</code>列出系统中的分区情况；然后使用<code>grep</code>命令提取出根分区行；再使用<code>awk</code>命令列出第五列，也就是根分区使用率这一列（不过使用率是 <code>10%</code>，不好比较，还要提取出 <code>10</code> 这个数字）；最后使用<code>cut</code>命令（<code>cut</code> 命令比 <code>awk</code> 命令简单），以<code>％</code>作为分隔符，提取出第一列。</p> <h3 id="双分支条件语句"><a href="#双分支条件语句" class="header-anchor">#</a> 双分支条件语句</h3> <p>在双分支 <code>if</code> 条件语句中，当条件判断式成立时，则执行某个程序；当条件判断式不成立时，则执行另一个程序</p> <p>语法如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span>条件判断式<span class="token punctuation">]</span>
<span class="token keyword">then</span>
当条件判断式成立时，执行的程序
<span class="token keyword">else</span>
当条件判断式不成立时，执行的另一个程序
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 判断输入的文件是否是一个目录</span>
<span class="token builtin class-name">read</span> -t <span class="token number">30</span> -p <span class="token string">&quot;Please input a directory:&quot;</span> <span class="token function">dir</span> <span class="token comment">#read接受键盘的输入，并存入dir变量</span>
if<span class="token punctuation">[</span>-d <span class="token variable">$dir</span><span class="token punctuation">]</span>
<span class="token comment"># 测试$dir中的内容是否是一个目录</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;yes&quot;</span>
<span class="token comment"># 如果是一个目录，则输出yes</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;no&quot;</span>
<span class="token comment"># 如果不是一个目录，则输出no</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="多分支-if-条件语句"><a href="#多分支-if-条件语句" class="header-anchor">#</a> 多分支 if 条件语句</h3> <p>在多分支 <code>if</code> 条件语句中，允许执行多次判断。也就是当条件判断式 <code>1</code> 成立时，执行程序 <code>1</code>；当条件判断式 <code>2</code> 成立时，执行程序 <code>2</code>；依次类推，当所有条件不成立时，执行最后的程序。</p> <p>语法如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>if<span class="token punctuation">[</span>条件判断式1<span class="token punctuation">]</span>
<span class="token keyword">then</span>
当条件判断式1成立时，执行程序1
<span class="token keyword">elif</span> <span class="token punctuation">[</span>条件判断式2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
当条件判断式2成立时，执行程序2
…省略更多条件<span class="token punctuation">..</span>.
<span class="token keyword">else</span>
当所有条件都不成立时，最后执行此程序、
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Example: 用多分支 <code>if</code> 条件语句来判断用户输入的是一个个文件还是一个目录。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#vi sh/if-elif.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 判断用户输入的是什么文件</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;Please input a filename:&quot;</span> <span class="token function">file</span>
<span class="token comment"># 接收键盘的输入，并赋予变量file</span>
if<span class="token punctuation">[</span>-z <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 判断file变量是否为空</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Error,please input a filename&quot;</span>
<span class="token comment"># 如果为空，则执行程序1，也就是输出报错信息、</span>
<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token comment"># 退出程序，并定义返回值为1 (把返回值赋予变量$?)</span>
elif<span class="token punctuation">[</span><span class="token operator">!</span>-e <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 判断file的值是否存在</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Your input is not a file!&quot;</span>
<span class="token comment"># 如果不存在，则执行程序2</span>
<span class="token builtin class-name">exit</span> <span class="token number">2</span>
<span class="token comment"># 退出程序，并定义返回值为2</span>
elif<span class="token punctuation">[</span>-f <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 判断file的值是否为普通文件</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file</span> is a regulare file!&quot;</span>
<span class="token comment"># 如果是普通文件，则执行程序3</span>
elif<span class="token punctuation">[</span>-d<span class="token string">&quot;<span class="token variable">$file</span>&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 判断file的值是否为目录文件</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$file</span> is a directory!&quot;</span>
<span class="token comment"># 如果是目录文件，则执行程序4</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;is an other file!&quot;</span>
<span class="token comment"># 如果以上判断都不是，则执行程序5</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="shell-case-语句"><a href="#shell-case-语句" class="header-anchor">#</a> Shell case 语句</h2> <p><code>case</code> 语句和 <code>if...elif...else</code> 语句一样都是多分支条件语句，不过和多分支 <code>if</code> 条件语句不同的是，<code>case</code> 语句只能判断一种条件关系，而 <code>if</code> 语句可以判断多种条件关系。</p> <p>case 语句的语法如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span>
模式1<span class="token punctuation">)</span>
命令序列1
<span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2<span class="token punctuation">)</span>
命令序列2
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
默认执行的命令序列
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><code>case</code> 语句会取出变量中的值，然后与语句体中的值逐一比较。如果数值符合，则执行对应的程序；如果数值不符，则依次比较下一个值；如果所有的值都不符合，则执行<code>*)</code>(<code>*</code>代表所有其他值)中的程序。</li> <li><code>case</code> 语句以<code>case</code>开头，以<code>esac</code>结尾。</li> <li>在每个分支程序之后要以<code>;;</code>（双分号）结尾，代表该程序段结束</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World &quot;</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;Please choose yes or no &quot;</span> -n <span class="token number">30</span> tmp
<span class="token keyword">case</span> <span class="token variable">$tmp</span> <span class="token keyword">in</span>
<span class="token string">&quot;yse&quot;</span><span class="token punctuation">)</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;you choose yes&quot;</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">&quot;no&quot;</span><span class="token punctuation">)</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;you choose no&quot;</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;you choose other&quot;</span>
<span class="token keyword">esac</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="shell-循环"><a href="#shell-循环" class="header-anchor">#</a> Shell 循环</h2> <h3 id="for-循环"><a href="#for-循环" class="header-anchor">#</a> for 循环</h3> <p>有时也把 for 循环称为计数循环
for 循环的语法有 2 种</p> <ul><li>语法一：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 值1 值2 值3…
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">tmp</span> <span class="token keyword">in</span> morning noon evening
<span class="token keyword">do</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It's <span class="token variable">$tmp</span> now&quot;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello <span class="token variable">$i</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 脚本执行结果</span>
wx@DESKTOP-HREI907 MINGW64 /c/wx/linuxLearn/temp
$ ./abc
It<span class="token string">'s morning now
It'</span>s noon now
It's evening now
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>语法二：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>初始值；循环控制条件；变量变化<span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>在语法二中需要注意以下几点：</p></blockquote> <p>初始值：在循环开始时，需要给某个变量赋予初始值，如 i=1。
循环控制条件：用于指定变量循环的次数，如 i&lt;=100，则只要 i 的值小于等于 100，循环就会继续。变量变化：每次循环之后，变量该如何变化，如 i=i+1，代表每次循环之后，变量的值都加 1。</p> <p>语法二和其他语言中的 for 循环类似，也就是事先决定循环次数的固定循环</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
	<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$sum<span class="token operator">+</span>$i<span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The sum of 1+2+3+...+100 is : <span class="token variable">$sum</span>&quot;</span><span class="token punctuation">;</span>

<span class="token comment"># 脚本执行结果</span>
wx@DESKTOP-HREI907 MINGW64 /c/wx/linuxLearn/temp
$ ./abc
The <span class="token function">sum</span> of <span class="token number">1</span>+2+3+<span class="token punctuation">..</span>.+100 is <span class="token builtin class-name">:</span> <span class="token number">5050</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="shell-while-循环"><a href="#shell-while-循环" class="header-anchor">#</a> Shell while 循环</h3> <p>语法：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">while</span> <span class="token punctuation">[</span>条件判断式<span class="token punctuation">]</span>
<span class="token keyword">do</span>
	程序
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#从1加到100</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token comment">#给变量i和s赋值</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token variable">$i</span> -le <span class="token number">100</span><span class="token punctuation">]</span>
<span class="token comment">#如果变量的值小于等于100，则执行循环</span>
<span class="token keyword">do</span>
<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$s<span class="token operator">+</span>$i<span class="token variable">))</span></span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The sum is: <span class="token variable">$s</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="shell-until"><a href="#shell-until" class="header-anchor">#</a> Shell until</h3> <p><code>unti</code> 循环，和 <code>while</code> 循环相反，只要条件判断式不成立，则进行循环，并执行循环程序；一旦条件判断式成立,则中止循环</p> <p>语法：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">until</span> <span class="token punctuation">[</span>条件判断式<span class="token punctuation">]</span>
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#vi sh/until.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 从1加到100</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token comment"># 给变量i和s赋值</span>
<span class="token keyword">until</span> <span class="token punctuation">[</span><span class="token variable">$i</span>-gt <span class="token number">100</span><span class="token punctuation">]</span>
<span class="token comment"># 循环，直到变量i的值大于100,就停止循环</span>
<span class="token keyword">do</span>
<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$s<span class="token operator">+</span>$i<span class="token variable">))</span></span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The sum is: <span class="token variable">$s</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="shell-函数"><a href="#shell-函数" class="header-anchor">#</a> Shell 函数</h2> <p>语法：</p> <ul><li>其标准写法为：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">function</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	指令……
	<span class="token builtin class-name">return</span> n
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>简化写法 1：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token keyword">function</span> 函数名<span class="token punctuation">{</span> <span class="token comment"># &lt;==不推荐使用此方法（无括号）</span>
	指令……
	<span class="token builtin class-name">return</span> n
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>简化写法 2：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment"># =推荐的书写函数的方法</span>
  <span class="token comment"># -r 表示只读变量,一旦赋值就不能修改。</span>
  <span class="token comment"># -i 表示将变量视为整数</span>
  <span class="token builtin class-name">local</span> -r -i <span class="token assign-left variable">num</span><span class="token operator">=</span><span class="token variable">$1</span>

  <span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span>
  指令……
  <span class="token builtin class-name">return</span> n
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi sh/function.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 接收用户输入的数字，然后从1加到这个数字</span>
<span class="token keyword">function</span> <span class="token function-name function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment"># 定义函数sum</span>
	<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>$<span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">))</span></span>
	<span class="token comment"># 循环直到i大于$1为止。$1是函数sum的第一个参数</span>
	<span class="token comment"># 在函数中也可以使用位置参数变量，不过这里的$1指的是函数的第一个参数</span>
	<span class="token keyword">do</span>
		<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> $i<span class="token operator">+</span>$s <span class="token variable">))</span></span>
	<span class="token keyword">done</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;The sum of 1+2+3...+<span class="token variable">$1</span> is : <span class="token variable">$s</span>&quot;</span> <span class="token comment"># 输出从1加到$1的和</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;Please input a number: &quot;</span> -t <span class="token number">30</span> num <span class="token comment"># 接收用户输入的数字,并把值赋予变量num</span>
<span class="token assign-left variable">y</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $num 丨 <span class="token function">sed</span> <span class="token string">'s/[0-9]//g'</span><span class="token variable">)</span></span> <span class="token comment"># 把变量num的值替换为空,并赋予变量y</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$y</span>&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 判断变量y是否为空，以确定变量num中是否为数字</span>
<span class="token keyword">then</span>
<span class="token function">sum</span> <span class="token variable">$num</span>
<span class="token comment"># 调用sum函数,并把变量num的值作为第一个参数传递给sum函数</span>
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Error!! Please input a number!&quot;</span>
<span class="token comment"># 如果变量rmm的值不是数字,则输出报错信息</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>函数也有自己的位置参数变量，<code>$0</code> 代表函数名，<code>$1</code> 代表函数的第 1 参数，<code>$2</code> 代表函数的第 2 个参数，以此类推。</p></div> <h2 id="shell-exit-流程控制语句"><a href="#shell-exit-流程控制语句" class="header-anchor">#</a> Shell exit 流程控制语句</h2> <p><code>exit</code> 命令的，用于退出当前用户的登录状态。但是在 Shell 脚本中，<code>exit</code> 语句是用来退出当前脚本的。也就是说，在 Shell 脚本中，只要碰到了 <code>exit</code> 语句，后续的程序就不再执行，而直接退出脚本。</p> <p>语法 1：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">exit</span> <span class="token punctuation">[</span>返回值<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>退出。设置退出码为 n。（Cause the shell to exit with a status of n.）</p> <p>语法 2：</p> <p>格式：exit</p> <p>退出。退出码不变，即为最后一个命令的退出码。(f n is omitted, the exit status is that of the last command executed. )</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如果在 exit 之后定义了返回值，那么这个脚本执行之后的返回值就是我们自己定义的返回值。可以通过查询 $? 这个变量来査看返回值。如果 exit 之后没有定义返回值，则脚本执行之后的返回值是执行 exit 语句之前最后执行的一条命令的返回值。</p></div> <table><thead><tr><th style="text-align:left;">退出状态代码</th> <th style="text-align:left;">description</th></tr></thead> <tbody><tr><td style="text-align:left;">0</td> <td style="text-align:left;">命令成功完成</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">通常的未知错误</td></tr> <tr><td style="text-align:left;">2</td> <td style="text-align:left;">误用 shell 命令</td></tr> <tr><td style="text-align:left;">126</td> <td style="text-align:left;">命令无法执行</td></tr> <tr><td style="text-align:left;">127</td> <td style="text-align:left;">没有找到命令</td></tr> <tr><td style="text-align:left;">128</td> <td style="text-align:left;">无效的退出参数</td></tr> <tr><td style="text-align:left;">128+x</td> <td style="text-align:left;">使用 Linux 信号 x 的致命错误。</td></tr> <tr><td style="text-align:left;">130</td> <td style="text-align:left;">使用 Ctrl-C 终止的命令</td></tr> <tr><td style="text-align:left;">255</td> <td style="text-align:left;">规范外的退出状态</td></tr></tbody></table> <h2 id="shell-break-和-continue-循环控制语句"><a href="#shell-break-和-continue-循环控制语句" class="header-anchor">#</a> Shell break 和 continue 循环控制语句</h2> <p><code>break</code> 语句时，会结束整个当前循环。而 <code>continue</code> 语句也是结束循环的语句，不过 <code>continue</code> 语句只会结束单次当前循环，继续下次循环</p> <h3 id="break-语句"><a href="#break-语句" class="header-anchor">#</a> break 语句</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi sh/break.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 演示break眺出循环</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span>
<span class="token comment"># 循环10次</span>
<span class="token keyword">do</span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token string">&quot;<span class="token variable">$i</span>&quot;</span> -eq <span class="token number">4</span><span class="token punctuation">]</span>
	<span class="token comment"># 如果变量 i 的值等于4</span>
	<span class="token keyword">then</span>
	<span class="token builtin class-name">break</span>
	<span class="token comment"># 则退出整个循环</span>
	<span class="token keyword">fi</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
	<span class="token comment"># 输出变量i的值</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>运行一下这个脚本，因为一旦变量的值等于 4，整个循环就会跳出，所以应该只能循环 3 次。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 755 sh/break.sh</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sh/break.sh</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="continue-语句"><a href="#continue-语句" class="header-anchor">#</a> continue 语句</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi sh/break.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 演示break眺出循环</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span>
<span class="token comment"># 循环10次</span>
<span class="token keyword">do</span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token string">&quot;<span class="token variable">$i</span>&quot;</span> -eq <span class="token number">4</span><span class="token punctuation">]</span>
	<span class="token comment"># 如果变量 i 的值等于4</span>
	<span class="token keyword">then</span>
	<span class="token builtin class-name">continue</span>
	<span class="token comment"># 则退出整个循环</span>
	<span class="token keyword">fi</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
	<span class="token comment"># 输出变量i的值</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#运行一下这个脚本：</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chmod 755 sh/continue.sh</span>
<span class="token comment"># 赋予执行权限</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sh/continue.sh</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token comment"># 少了4这个输出</span>
<span class="token number">6</span>
<span class="token number">7</span>
<span class="token number">8</span>
<span class="token number">9</span>
<span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="各种符号"><a href="#各种符号" class="header-anchor">#</a> <code>$</code>各种符号</h2> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;"></th></tr></thead> <tbody><tr><td style="text-align:left;"><code>$0</code></td> <td style="text-align:left;">这个程式的执行名字</td></tr> <tr><td style="text-align:left;"><code>$n</code></td> <td style="text-align:left;">这个程式的第 n 个参数值，n=1..9</td></tr> <tr><td style="text-align:left;"><code>$*</code></td> <td style="text-align:left;">这个程式的所有参数,此选项参数可超过 9 个。</td></tr> <tr><td style="text-align:left;"><code>$#</code></td> <td style="text-align:left;">这个程式的参数个数</td></tr> <tr><td style="text-align:left;"><code>$$</code></td> <td style="text-align:left;">这个程式的 PID(脚本运行的当前进程 ID 号)</td></tr> <tr><td style="text-align:left;"><code>$!</code></td> <td style="text-align:left;">执行上一个背景指令的 PID(后台运行的最后一个进程的进程 ID 号)</td></tr> <tr><td style="text-align:left;"><code>$?</code></td> <td style="text-align:left;">执行上一个指令的返回值 (显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误)</td></tr> <tr><td style="text-align:left;"><code>$-</code></td> <td style="text-align:left;">显示 shell 使用的当前选项，与 set 命令功能相同</td></tr> <tr><td style="text-align:left;"><code>$@</code></td> <td style="text-align:left;">跟<code>$*</code>类似，但是可以当作数组用</td></tr> <tr><td style="text-align:left;"><code>$_</code></td> <td style="text-align:left;">是一个特殊变量,包含前一个命令的最后一个参数</td></tr></tbody></table> <h2 id="shell-中变量的间接引用"><a href="#shell-中变量的间接引用" class="header-anchor">#</a> shell 中变量的间接引用</h2> <ul><li><a href="https://blog.51cto.com/leidongya/1577520" target="_blank" rel="noopener noreferrer">shell 中变量的间接引用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">NAME</span><span class="token operator">=</span>ZS
<span class="token assign-left variable">ROLE</span><span class="token operator">=</span>NAME
<span class="token assign-left variable">RESULT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">eval</span> <span class="token builtin class-name">echo</span> <span class="token string">'$'</span><span class="token string">&quot;<span class="token variable">$ROLE</span>&quot;</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=====Option1=======&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$ROLE</span>   <span class="token comment"># NAME</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$RESULT</span> <span class="token comment"># ZS</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;=====Option2=======&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>ROLE}</span>&quot;</span> <span class="token comment"># ZS</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token assign-left variable">PATH_PROD</span><span class="token operator">=</span><span class="token string">&quot;prod_path&quot;</span>
<span class="token assign-left variable">PATH_TEST</span><span class="token operator">=</span><span class="token string">&quot;test_path&quot;</span>
<span class="token assign-left variable">PATH_STAGE</span><span class="token operator">=</span><span class="token string">&quot;stage_path&quot;</span>

<span class="token assign-left variable">ENVS</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;PROD&quot;</span> <span class="token string">&quot;TEST&quot;</span> <span class="token string">&quot;STAGE&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">ENV</span> <span class="token keyword">in</span> <span class="token variable">${ENVS<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span><span class="token keyword">do</span>
  <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>PATH_<span class="token variable">${ENV}</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span>}</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>PATH}</span>
  <span class="token builtin class-name">eval</span> <span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>$<span class="token environment constant">$PATH</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;===========&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># PATH_PROD</span>
<span class="token comment"># prod_path</span>
<span class="token comment"># prod_path</span>
<span class="token comment"># ===========</span>
<span class="token comment"># PATH_TEST</span>
<span class="token comment"># test_path</span>
<span class="token comment"># test_path</span>
<span class="token comment"># ===========</span>
<span class="token comment"># PATH_STAGE</span>
<span class="token comment"># stage_path</span>
<span class="token comment"># stage_path</span>
<span class="token comment"># ===========</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Shell" title="标签">#Shell</a></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/16/2023, 7:25:52 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/fa4788/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux common question</div></a> <a href="/pages/ea121a/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Shell Command sed</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/fa4788/" class="prev">Linux common question</a></span> <span class="next"><a href="/pages/ea121a/">Shell Command sed</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/5a9395/"><div>
            Ehcache3 Basic
            <!----></div></a> <span class="date">01-30</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/71d94f/"><div>
            Apache HTTP Client Basic
            <!----></div></a> <span class="date">01-21</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4a2fe4/"><div>
            Oracle Index
            <!----></div></a> <span class="date">12-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/dlwxin/wx-notes" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="mailto:dlwxin@outlook.com" title="Email" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2024
    <span>wx | <a href="https://beian.miit.gov.cn" target="_blank">黑ICP备2022000430号</a> | <img src="https://dlwang.xin:11796/image/others/record_icon.png"/><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23128302000114" target="_blank">黑公网安备 23128302000114号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d382a226.js" defer></script><script src="/assets/js/2.87a8012a.js" defer></script><script src="/assets/js/98.1032eb92.js" defer></script>
  </body>
</html>
